



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="Nichts ist wahr, alles ist erlaubt." href="https://gason1997.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="Nichts ist wahr, alles ist erlaubt." href="https://gason1997.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="Nichts ist wahr, alles ist erlaubt." href="https://gason1997.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="Cesium.js" />


<link rel="canonical" href="https://gason1997.github.io/2022/04/17/3D-study/Cesium/%E5%85%A5%E9%97%A8/4.cesium%E5%85%A5%E9%97%A8-%E8%AE%A4%E8%AF%86cesium/">



  <title>
4.cesium入门-cesium地图数据加载 - 基础知识 - Cesium.js - 三维开发 |
Sang`s Homepage = Nichts ist wahr, alles ist erlaubt.</title>
<meta name="generator" content="Hexo 6.2.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">4.cesium入门-cesium地图数据加载
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2022-04-17 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2022-04-17T00:00:00+08:00">2022-04-17</time>
  </span>
  <span class="item" title="本文字数">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">本文字数</span>
    <span>42k</span>
    <span class="text">字</span>
  </span>
  <span class="item" title="阅读时长">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">阅读时长</span>
    <span>39 分钟</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Sang`s Homepage</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
          <img src="https://s1.ax1x.com/2023/03/10/ppnOEdO.png">
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span><i class="ic i-angle-right"></i>
<span  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/3D-study/" itemprop="item" rel="index" title="分类于 三维开发"><span itemprop="name">三维开发</span></a>
<meta itemprop="position" content="1" /></span>
<i class="ic i-angle-right"></i>
<span  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/3D-study/Cesium-js/" itemprop="item" rel="index" title="分类于 Cesium.js"><span itemprop="name">Cesium.js</span></a>
<meta itemprop="position" content="2" /></span>
<i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/3D-study/Cesium-js/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" itemprop="item" rel="index" title="分类于 基础知识"><span itemprop="name">基础知识</span></a>
<meta itemprop="position" content="3" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://gason1997.github.io/2022/04/17/3D-study/Cesium/%E5%85%A5%E9%97%A8/4.cesium%E5%85%A5%E9%97%A8-%E8%AE%A4%E8%AF%86cesium/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="小矮人gason">
    <meta itemprop="description" content=", 大丈夫之志应如长江东奔大海">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Nichts ist wahr, alles ist erlaubt.">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="1加载影像数据"><a class="markdownIt-Anchor" href="#1加载影像数据">#</a> <strong><strong>1. 加载影像数据</strong></strong></h1>
<h3 id="1cesium中的影像图层类"><a class="markdownIt-Anchor" href="#1cesium中的影像图层类">#</a> 1.<strong><strong>Cesium 中的影像图层类</strong></strong></h3>
<p>无论是二维地图还是三维地图，如果缺少了底图影像或电子地图，都是不完整的。Cesium 为我们提供了<strong> ImageryLayerCollection</strong>、<strong>ImageryLayer</strong> 以及相关的<strong> ImageryProvider</strong> 类来加载不同的影像图层。虽然 Cesium 把此类图层叫做 Imagery*，但并不是特指卫星影像数据，还包括一些互联网地图、TMS、WMS、WMTS、单个图片等。</p>
<p><strong><strong>ImageryLayer 类</strong></strong></p>
<aside>
🚩 Cesium.ImageryLayer类用于表示Cesium中的影像图层，它就相当于皮毛、衣服，将数据源包裹在内，它需要数据源（imageryProvider）为其提供内在丰富的地理空间信息和属性信息。同时，通过该类还能设置影像图层相关属性，比如透明度、亮度、对比度、色调等。
</aside>
<p><strong><strong>ImageryProvider 类</strong></strong></p>
<aside>
🚩 Cesium.ImageryProvider类及其子类封装了加载各种影像图层的方法，其中Cesium.ImageryProvider类是抽象类、基类或者可将其理解为接口，它不能被直接实例化。我们可以把ImageryProvider看作是影像图层的数据源（包裹在ImageryLayer类内部），我们想使用哪种影像图层数据或服务就用对应的ImageryProvider子类去加载，目前Cesium提供了以下14种ImageryProvider。
</aside>
<p><strong>ImageryLayerCollection 类</strong></p>
<aside>
🚩 Cesium.ImageryLayerCollection类是ImageryLayer类对象的容器，它可以装载、放置多个ImageryLayer或ImageryProvider类对象，而且它内部放置的ImageryLayer或ImageryProvider类对象是有序的。Cesium.Viewer类对象中包含的imageryLayers属性就是ImageryLayerCollection类的实例，它包含了当前Cesium应用程序所有的ImageryLayer类对象，即所有影像图层，所以Cesium中的影像图层可以添加多个。
</aside>
<h3 id="2cesium加载不同类型的影像图层"><a class="markdownIt-Anchor" href="#2cesium加载不同类型的影像图层">#</a> 2.<strong>Cesium 加载不同类型的影像图层</strong></h3>
<p>根据上面提供的 Provider 可知道，目前 Cesium（1.75 版本）支持 14 种类型的影像图层。</p>
<p><strong><strong>ArcGisMapServerImageryProvider</strong></strong></p>
<aside>
🚩 支持ArcGIS Online和Server的相关服务。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arcgisProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">ArcGisMapServerImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>:</span><br><span class="line">        <span class="string">&quot;https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">imageryLayers.<span class="title function_">addImageryProvider</span>(arcgisProvider)</span><br></pre></td></tr></table></figure>
<hr>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738.jpg" alt="微信图片_20220616135738.jpg"></p>
<p><strong><strong>BingMapsImageryProvider</strong></strong></p>
<aside>
🚩 Bing地图影像，可以指定mapStyle，详见BingMapsStyle类。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bingStyle = [</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">AERIAL_WITH_LABELS</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">COLLINS_BART</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">CANVAS_GRAY</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">CANVAS_LIGHT</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">CANVAS_DARK</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">ORDNANCE_SURVEY</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">ROAD</span>,</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">BingMapsStyle</span>.<span class="property">AERIAL</span>,</span><br><span class="line">    ];</span><br><span class="line"><span class="keyword">var</span> bingMapProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">BingMapsImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;https://dev.virtualearth.net&quot;</span>, <span class="comment">//’&#x27;https://dev.virtualearth.net&#x27;,</span></span><br><span class="line">      <span class="attr">key</span>: <span class="string">&quot;AmXdbd8UeUJtaRSn7yVwyXgQlBBUqliLbHpgn2c76DfuHwAXfRrgS5qwfHU6Rhm8&quot;</span>,</span><br><span class="line">      <span class="attr">mapStyle</span>: bingStyle[<span class="number">7</span>],</span><br><span class="line">    &#125;);</span><br><span class="line">imageryLayers.<span class="title function_">addImageryProvider</span>(bingMapProvider);</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738%201.jpg" alt="微信图片_20220616135738.jpg"></p>
<p><strong><strong>GoogleEarthEnterpriseImageryProvider</strong></strong></p>
<aside>
🚩 使用谷歌Earth企业REST API提供瓦片图像，可与Google Earth Enterprise的3D Earth API一起使用。(加载谷歌Earth的瓦片影像需要翻墙，这里就不截图了。)
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> geeMetadata = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">GoogleEarthEnterpriseMetadata</span>(</span><br><span class="line">      <span class="string">&quot;http://www.earthenterprise.org/3d&quot;</span></span><br><span class="line">    );</span><br><span class="line"><span class="keyword">var</span> googleEarthProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">GoogleEarthEnterpriseImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">metadata</span>: geeMetadata,</span><br><span class="line">    &#125;);</span><br><span class="line">imageryLayers.<span class="title function_">addImageryProvider</span>(googleEarthProvider);</span><br></pre></td></tr></table></figure>
<p><strong><strong>GridImageryProvider（开发调试）</strong></strong></p>
<aside>
🚩 展示内部渲染网格划分情况，了解每个瓦片的精细度，便于调试地形和图像渲染问题。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arcgisProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">ArcGisMapServerImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>:</span><br><span class="line">        <span class="string">&quot;https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"> </span><br><span class="line">    viewer.<span class="property">imageryLayers</span>.<span class="title function_">addImageryProvider</span>(arcgisProvider);</span><br><span class="line">    <span class="keyword">var</span> gridImagery = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">GridImageryProvider</span>();</span><br><span class="line">    <span class="keyword">var</span> gridImageryLayer = viewer.<span class="property">imageryLayers</span>.<span class="title function_">addImageryProvider</span>(gridImagery);</span><br><span class="line">    imageryLayers.<span class="title function_">raiseToTop</span>(gridImageryLayer); <span class="comment">//将图层置顶</span></span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738%202.jpg" alt="微信图片_20220616135738.jpg"></p>
<p><strong><strong>IonImageryProvider</strong></strong></p>
<aside>
🚩 cesium Ion 在线服务，默认全局基础图像图层（当前为Bing Maps）。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">imageryLayers.<span class="title function_">addImageryProvider</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">IonImageryProvider</span>(&#123; <span class="attr">assetId</span>: <span class="number">3954</span> &#125;)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738%203.jpg" alt="微信图片_20220616135738.jpg"></p>
<p><strong><strong>MapboxImageryProvider</strong></strong></p>
<aside>
🚩 Mapbox影像服务，根据mapId指定地图风格。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mapIds = [</span><br><span class="line">      <span class="string">&quot;mapbox.satellite&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.streets&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.streets-basic&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.light&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.streets-satellite&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.wheatpaste&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.comic&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.outdoors&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.run-bike-hike&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.pencil&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.pirates&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.emerald&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mapbox.high-contrast&quot;</span>,</span><br><span class="line">    ];</span><br><span class="line">    imageryLayers.<span class="title function_">addImageryProvider</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">MapboxImageryProvider</span>(&#123;</span><br><span class="line">        <span class="attr">mapId</span>: mapIds[<span class="number">0</span>],</span><br><span class="line">        <span class="attr">accessToken</span>:</span><br><span class="line">          <span class="string">&quot;pk.eyJ1IjoibHM4NzAwNjEwMTEiLCJhIjoiY2tqYXZlZ2JrMDI5bTJzcDJmdDNteGhsNyJ9.0wTn4B1ce9Q4U5GnPso5iA&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<p><strong><strong>MapboxStyleImageryProvider</strong></strong></p>
<aside>
🚩 Mapbox影像服务，根据styleId指定地图风格。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> styleIds = [</span><br><span class="line">      <span class="string">&quot;streets-v11&quot;</span>,</span><br><span class="line">      <span class="string">&quot;outdoors-v11&quot;</span>,</span><br><span class="line">      <span class="string">&quot;light-v10&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dark-v10&quot;</span>,</span><br><span class="line">      <span class="string">&quot;satellite-v9&quot;</span>,</span><br><span class="line">      <span class="string">&quot;msatellite-streets-v11&quot;</span>,</span><br><span class="line">    ];</span><br><span class="line">    imageryLayers.<span class="title function_">addImageryProvider</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">MapboxStyleImageryProvider</span>(&#123;</span><br><span class="line">        <span class="attr">styleId</span>: styleIds[<span class="number">0</span>],</span><br><span class="line">        <span class="attr">accessToken</span>:</span><br><span class="line">          <span class="string">&quot;pk.eyJ1IjoibHM4NzAwNjEwMTEiLCJhIjoiY2tqYXZlZ2JrMDI5bTJzcDJmdDNteGhsNyJ9.0wTn4B1ce9Q4U5GnPso5iA&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738%204.jpg" alt="微信图片_20220616135738.jpg"></p>
<p><strong><strong>SingleTileImageryProvider</strong></strong></p>
<aside>
🚩 单张图片的影像服务，适合离线数据或对影像数据要求并不高的场景下。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> imagelayer = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">SingleTileImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;./images/worldimage.jpg&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    imageryLayers.<span class="title function_">addImageryProvider</span>(imagelayer);</span><br></pre></td></tr></table></figure>
<p><strong><strong>WebMapServiceImageryProvider</strong></strong></p>
<aside>
🚩 符合WMS规范的影像服务都可以通过该类封装，指定具体参数实现。
</aside>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> provider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">WebMapServiceImageryProvider</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>:</span><br><span class="line">        <span class="string">&quot;https://nationalmap.gov.au/proxy/http://geoserver.nationalmap.nicta.com.au/geotopo_250k/ows&quot;</span>,</span><br><span class="line">      <span class="attr">layers</span>: <span class="string">&quot;Hydrography:bores&quot;</span>,</span><br><span class="line">      <span class="attr">parameters</span>: &#123;</span><br><span class="line">        <span class="attr">transparent</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">format</span>: <span class="string">&quot;image/png&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    imageryLayers.<span class="title function_">addImageryProvider</span>(provider);</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616135738%205.jpg" alt="微信图片_20220616135738.jpg"></p>
<h1 id="2加载地形数据"><a class="markdownIt-Anchor" href="#2加载地形数据">#</a> <strong><strong>2. 加载地形数据</strong></strong></h1>
<h3 id="1cesium中的地形图层类"><a class="markdownIt-Anchor" href="#1cesium中的地形图层类">#</a> 1.<strong>Cesium 中的地形图层类</strong></h3>
<p>前面我们主要学习了 cesium 内置接口如何操作影像数据，但是在一些应用场景中我们需要操作地形数据，例如模拟逼真的三维场景、与高程相关的一些空间分析和计算等。Cesium 提供了 TerrainProvider 基类，该 Provider 负责每一个 Tile 对应的地形数据的构建，定义了一套地形 Provider 需要实现的接口和规范，但本身并不会参与其中的操作。基于此类，cesium 为我们封装了 5 个现成的继承类操作地形数据：</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZWFUMHNpY1VsbTVUTXVieDFRcUFoUUwzRGhkaHpkVzBpYlVCcllnUDQ2aWJtR0U0T2FFZmFCY29qaE1oSGlhMTZpY1JXSXgzUDAyQmlhSExuVFEvNjQwP3d4X2ZtdD1wbmcmYW1wO3d4ZnJvbT01JmFtcDt3eF9sYXp5PTEmYW1wO3d4X2NvPTE=">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeaT0sicUlm5TMubx1QqAhQL3DhdhzdW0ibUBrYgP46ibmGE4OaEfaBcojhMhHia16icRWIx3P02BiaHLnTQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<p>不像上一讲介绍的影像图层（有专门的 ImageryLayer）那样，Cesium 中的地形类是直接通过不同的 terrainProvider 控制的，然后把某一个实例化的 terrainProvider 赋值给 Viewer.terrainProvider 来控制地形数据的显隐。所以，Cesium 中的地形图层只能有一个。</p>
<h3 id="2cesium加载不同的地形数据"><a class="markdownIt-Anchor" href="#2cesium加载不同的地形数据">#</a> 2.<strong>Cesium 加载不同的地形数据</strong></h3>
<p>Cesium 支持渐进流式加载和渲染全球高精度地形，并且包含海、湖、河等水面效果。相对 2D 地图，山峰、山谷等其他地形特征的更适宜在这种 3D 地球中展示。</p>
<p>Cesium 支持两种类型的地形，STK World Terrain 和 Small Terrain。</p>
<blockquote>
<p>针对于这两种类型的地形，这里不做过多的介绍，感兴趣的可参考 cesiumjs 开发实践 (四) 地形介绍这篇文章。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9teS5vc2NoaW5hLm5ldC91LzE1ODU1NzIvYmxvZy8yOTA0ODE=">https://my.oschina.net/u/1585572/blog/290481</span></p>
</blockquote>
<p>地形数据集是巨大的，通常都是 GB 或者 TB 级别。在普通 3D 引擎中，使用底层图形 API 去高效实现地形数据的可视化需要做很多事情。幸好，Cesium 已经完成了这个体力活，而我们只需要写几行代码，这些都是 terrainProvider 的功劳。下面我们主要介绍 Cesium 中常用的 3 个 terrainProvider。</p>
<p><strong>EllipsoidTerrainProvider</strong></p>
<p>EllipsoidTerrainProvider 是 Globe 默认采用的地形 Provider，该 Provider 不支持水面，没有法向量，所以即使开启光照，对 Tile 也是无效的。但是它提供了一个全球范围内高度为 0 的地形，不需要额外的地形文件，就可以实时的自己来构建这个高度为 0 的 Mesh。对那些没有网络环境，或网络不理想，或不需要地形的应用，EllipsoidTerrainProvider 提供了最简单的，无需额外负担的地形数据来构网。</p>
<p>另外，EllipsoidTerrainProvider 具有其他 terrainProvider 不具备的属性 tileScheme，该属性是 Provider 内部地球网格的剖分方式，通常是 WGS84 坐标，也可以选择墨卡托坐标系。Cesium 中目前支持 WGS1984 和墨卡托投影两种。</p>
<p>Terrain 和 Imagery 分别采用自己的 TileScheme，比如目前 Terrain 默认采用 WGS1984 的坐标系，这和经纬高的真实数据更接近，而目前 Imagery 影像服务基本都是墨卡托投影。</p>
<p>鉴于此，为了使数据的加载性能更好，可以让地形的 TileScheme 和影像的保持一致，都设置成墨卡托投影。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ellipsoidProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">EllipsoidTerrainProvider</span>();</span><br><span class="line">viewer.<span class="property">terrainProvider</span> = ellipsoidProvider;</span><br></pre></td></tr></table></figure>
<p><strong>ArcGISTiledElevationTerrainProvider</strong></p>
<p>ArcGIS 的地形，这个可以说是一个真实的（凹凸的）高度图，原理和 EllipsoidTerrainProvider 如出一辙，因此同样的不支持法线，水面，但可以选择 TileScheme，与 EllipsoidTerrainProvider 不一样之处在于每一个切片会根据 ArcGIS 规范请求一张图片，该图片中的像素对应的值就是该像素对应的高度，真的是名副其实的高度图。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> terrainProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">ArcGISTiledElevationTerrainProvider</span>(&#123;</span><br><span class="line">   <span class="attr">url</span>:</span><br><span class="line">     <span class="string">&quot;https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer&quot;</span>,</span><br><span class="line">   <span class="attr">token</span>:</span><br><span class="line">     <span class="string">&quot;KED1aF_I4UzXOHy3BnhwyBHU4l5oY6rO6walkmHoYqGp4XyIWUd5YZUC1ZrLAzvV40pR6gBXQayh0eFA8m6vPg..&quot;</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"> viewer.<span class="property">terrainProvider</span> = terrainProvider;</span><br></pre></td></tr></table></figure>
<p><strong>CesiumTerrainProvider</strong></p>
<p>Cesium 标准地形，在该 Provider 中支持两种地形格式，一种是高度图（目前 Cesium 已经废弃 ），另一种则是 TIN 网格的 STK 地形。</p>
<p>Cesium 厉害的之处就在于目前采用 STK 的地形服务，并通过 QuantizedMeshTerrainData 封装了 STK 地形数据格式，它的优点是支持水面和法线，同时数据量比较小。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> terrainProvider = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">CesiumTerrainProvider</span>(&#123;</span><br><span class="line">  url : <span class="title class_">Cesium</span>.<span class="property">IonResource</span>.<span class="title function_">fromAssetId</span>(<span class="number">3956</span>),</span><br><span class="line">  <span class="attr">requestWaterMask</span>: <span class="literal">true</span>, <span class="comment">// 请求水体效果所需要的海岸线数据</span></span><br><span class="line">  <span class="attr">requestVertexNormals</span>: <span class="literal">true</span>, <span class="comment">// 请求地形照明数据</span></span><br><span class="line"> &#125;);</span><br><span class="line">viewer.<span class="property">terrainProvider</span> = terrainProvider;</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510.png" alt="微信图片_20220616142510.png"></p>
<h1 id="3加载矢量数据"><a class="markdownIt-Anchor" href="#3加载矢量数据">#</a> 3.<strong><strong> 加载矢量数据</strong></strong></h1>
<p>矢量数据（Vector Data）是用 X、Y、Z 坐标表示地图图形或地理实体位置的数据，一般是通过记录坐标的方式来尽可能将地理实体的空间位置表现的准确无误，常见的矢量数据有：点、线、面等格式。我们使用矢量数据的原因，就是因为矢量数据具有数据结构紧凑、冗余度低、有利于网络和检索分析、图形显示质量好、精度高等优点。</p>
<p>目前最常见的矢量数据格式就是 shapfile（简称 shp），它是由 Esri 公司开发的一种空间数据开放格式。同时 shapfile 也成为了 GIS 行业的标准，几乎所有的商业和开源 GIS 软件都支持 Shapefile。通常情况下，一个 &quot;shapefile&quot; 通常指带有.shp、.shx、.dbf 和其他扩展名且前缀名称一致的文件（.prj、.sbn 等）集合。</p>
<p>一个 shapfile 必须包含的文件：</p>
<ul>
<li>主文件（*.shp）：存储地理要素的几何信息</li>
<li>索引文件（*.shx）：存储要素几何图形的索引信息</li>
<li>dBase 表文件（*.dbf）：存储地理要素的属性信息（非几何信息）</li>
</ul>
<p>除此之外还有可选的文件：</p>
<ul>
<li>空间参考文件（.prj）：存储空间参考信息，即地理坐标系统信息和投影坐标系统信息，使用 well-known 文本格式（WKT）进行描述。</li>
<li>几何体的空间索引文件（<em>.sbn 和 .sbx）、只读的 Shapefiles 的几何体的空间索引文件（.fbn 和</em>.fbx）等等</li>
</ul>
<p>shapfile 如此强大和受欢迎，只可惜 Cesium 却不能直接加载 shp 文件，如果想加载 shp 文件，感兴趣的可以参考这位大牛封装的库 CesiumVectorTile。Cesium 直接支持的矢量数据格式包括：geojson、topojson、kml 以及具有时间特性的 czml，并以 DataSouce 后缀去命名相关的类。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZVpjWkpjMlBFb0xuc0k2aDM1SzQ4TzExa2ZlOElDY0FjSEQ2QzBsWngxREhrS3pWSVM5WjN3YnQ0c2VLc3pCSVBXcnZrNEpXSWljTXZnLzY0MD93eF9mbXQ9cG5nJmFtcDt3eGZyb209NSZhbXA7d3hfbGF6eT0xJmFtcDt3eF9jbz0x">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeZcZJc2PEoLnsI6h35K48O11kfe8ICcAcHD6C0lZx1DHkKzVIS9Z3wbt4seKszBIPWrvk4JWIicMvg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<h3 id="1cesium加载geojson文件"><a class="markdownIt-Anchor" href="#1cesium加载geojson文件">#</a> 1.Cesium 加载 geojson 文件</h3>
<p>GeoJSON 介绍</p>
<p>GeoJSON 是用于描述地理空间信息的数据格式，它不是一种新的格式，其语法规范是符合 JSON 格式的，只不过对其名称进行了规范，专门用于表示地理信息。</p>
<p>GeoJSON 的最外层是一个单独的对象（object）。这个对象可表示：</p>
<p>① 几何体（Geometry）；</p>
<p>② 特征（Feature）；</p>
<p>③ 特征集合（FeatureCollection）；最外层的 GeoJSON 里可能包含有很多子对象，每一个 GeoJSON 对象都有一个 type 属性，表示对象的类型，其 type 的值可以是：Point、MultiPoint、LineString、MultiLineString、Polygon、MultiPolygon、GeometryCollection、Feature、FeatureCollection。下面是一个 GeoJSON 特征集合示例：</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="string">&quot;FeatureCollection&quot;</span>,</span><br><span class="line">  <span class="string">&quot;features&quot;</span>: [</span><br><span class="line">    &#123; <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Feature&quot;</span>,</span><br><span class="line">      <span class="string">&quot;geometry&quot;</span>: &#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;Point&quot;</span>, <span class="string">&quot;coordinates&quot;</span>: [<span class="number">102.0</span>, <span class="number">0.5</span>]&#125;,</span><br><span class="line">      <span class="string">&quot;properties&quot;</span>: &#123;<span class="string">&quot;prop0&quot;</span>: <span class="string">&quot;value0&quot;</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Feature&quot;</span>,</span><br><span class="line">      <span class="string">&quot;geometry&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;LineString&quot;</span>,</span><br><span class="line">        <span class="string">&quot;coordinates&quot;</span>: [</span><br><span class="line">          [<span class="number">102.0</span>, <span class="number">0.0</span>], [<span class="number">103.0</span>, <span class="number">1.0</span>], [<span class="number">104.0</span>, <span class="number">0.0</span>], [<span class="number">105.0</span>, <span class="number">1.0</span>]</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">      <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;prop0&quot;</span>: <span class="string">&quot;value0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;prop1&quot;</span>: <span class="number">0.0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Feature&quot;</span>,</span><br><span class="line">       <span class="string">&quot;geometry&quot;</span>: &#123;</span><br><span class="line">         <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Polygon&quot;</span>,</span><br><span class="line">         <span class="string">&quot;coordinates&quot;</span>: [</span><br><span class="line">           [ [<span class="number">100.0</span>, <span class="number">0.0</span>], [<span class="number">101.0</span>, <span class="number">0.0</span>], [<span class="number">101.0</span>, <span class="number">1.0</span>],</span><br><span class="line">             [<span class="number">100.0</span>, <span class="number">1.0</span>], [<span class="number">100.0</span>, <span class="number">0.0</span>] ]</span><br><span class="line">           ]</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">         <span class="string">&quot;prop0&quot;</span>: <span class="string">&quot;value0&quot;</span>,</span><br><span class="line">         <span class="string">&quot;prop1&quot;</span>: &#123;<span class="string">&quot;this&quot;</span>: <span class="string">&quot;that&quot;</span>&#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>TopoJSON 介绍</p>
<p>TopoJSON 是 GeoJSON 按拓扑学编码后的扩展形式，是由 D3 的作者 Mike Bostock 制定的。相比 GeoJSON 直接使用 Polygon、Point 之类的几何体来表示图形的方法，TopoJSON 中的每一个几何体都是通过将共享边（被称为 arcs）整合后组成的。对比简易图如下：</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZVpjWkpjMlBFb0xuc0k2aDM1SzQ4TzFnR05GTjBiR1ZQajZqUjJSZmlhUjF0MzZSa2JSWWtzeWlhWWpSZmU4RnlMeHR1cmhsaG5nc1RZQS82NDA/d3hfZm10PXBuZyZhbXA7d3hmcm9tPTUmYW1wO3d4X2xhenk9MSZhbXA7d3hfY289MQ==">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeZcZJc2PEoLnsI6h35K48O1gGNFN0bGVPj6jR2RfiaR1t36RkbRYksyiaYjRfe8FyLxturhlhngsTYA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<p>TopoJSON 使用坐标（点）、弧（线、多边形）来表示地理图形，它由 transform、objects 和 arcs 三部分组成。transform 描述了变换参数；objects 描述地理实体包含空间及属性信息；arcs 描述了有向弧的空间关系，弧由一系列起点及相对于起点的有向偏移坐标表示。基于这种弧的存储方式可以表达出拓扑关系，由于弧只记录一次及地理坐标使用整数，不使用浮点数，相对于 GeoJSON，TopoJSON 消除了冗余，文件大小缩小了 80%。</p>
<p>概念总是那么的抽象，为了表达的更形象些，下面列出了相关示例。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZVpjWkpjMlBFb0xuc0k2aDM1SzQ4TzE0ZHI5bjg3cGZWWWVRaEpqczFIQXBocXZlSGtRRTZGODFZNkVSUnpUTFFLV2Z3VzF5Y285WlEvNjQwP3d4X2ZtdD1wbmcmYW1wO3d4ZnJvbT01JmFtcDt3eF9sYXp5PTEmYW1wO3d4X2NvPTE=">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeZcZJc2PEoLnsI6h35K48O14dr9n87pfVYeQhJjs1HAphqveHkQE6F81Y6ERRzTLQKWfwW1yco9ZQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;type&quot;</span>:<span class="string">&quot;Topology&quot;</span>,  <span class="string">&quot;transform&quot;</span>:&#123;    <span class="string">&quot;scale&quot;</span>: [<span class="number">1</span>,<span class="number">1</span>],      <span class="comment">//缩放比例    &quot;translate&quot;: [0,0] //相对于原点([0,0])的偏移量  &#125;,  &quot;objects&quot;:&#123;     &quot;two-squares&quot;:&#123;      &quot;type&quot;: &quot;GeometryCollection&quot;,      &quot;geometries&quot;:[        &#123;&quot;type&quot;: &quot;Polygon&quot;, &quot;arcs&quot;:[[0,1]],&quot;properties&quot;: &#123;&quot;name&quot;: &quot;Left_Polygon&quot; &#125;&#125;,        &#123;&quot;type&quot;: &quot;Polygon&quot;, &quot;arcs&quot;:[[2,-1]],&quot;properties&quot;: &#123;&quot;name&quot;: &quot;Right_Polygon&quot; &#125;&#125;      ]    &#125;,    &quot;one-line&quot;: &#123;      &quot;type&quot;:&quot;GeometryCollection&quot;,      &quot;geometries&quot;:[        &#123;&quot;type&quot;: &quot;LineString&quot;, &quot;arcs&quot;: [3],&quot;properties&quot;:&#123;&quot;name&quot;:&quot;Under_LineString&quot;&#125;&#125;      ]    &#125;,    &quot;two-places&quot;:&#123;      &quot;type&quot;:&quot;GeometryCollection&quot;,      &quot;geometries&quot;:[        &#123;&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[0,0],&quot;properties&quot;:&#123;&quot;name&quot;:&quot;Origine_Point&quot;&#125;&#125;,        &#123;&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[0,-1],&quot;properties&quot;:&#123;&quot;name&quot;:&quot;Under_Point&quot;&#125;&#125;      ]    &#125;  &#125;,  &quot;arcs&quot;: [    [[1,2],[0,-2]],    [[1,0],[-1,0],[0,2],[1,0]],    [[1,2],[1,0],[0,-2],[-1,0]],    [[0,-1],[2,0]]  ]</span></span><br></pre></td></tr></table></figure>
<p>在线工具推荐</p>
<ul>
<li>JSON 在线解析及格式化：<span class="exturl" data-url="aHR0cHM6Ly93d3cuanNvbi5jbi8=">https://www.json.cn/</span></li>
<li>在线生成 GeoJSON：<span class="exturl" data-url="aHR0cDovL2dlb2pzb24uaW8v">http://geojson.io/</span></li>
<li>shp 数据转 GeoJSON 和 TopoJSON：<span class="exturl" data-url="aHR0cDovL21hcHNoYXBlci5vcmcv">http://mapshaper.org/</span></li>
<li>GeoJson 和 TopopJson 在线转换：<span class="exturl" data-url="aHR0cDovL2plZmZwYWluZS5naXRodWIuaW8vZ2VvanNvbi10b3BvanNvbi8=">http://jeffpaine.github.io/geojson-topojson/</span></li>
</ul>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewer.<span class="property">dataSources</span>.<span class="title function_">add</span>(  <span class="title class_">Cesium</span>.<span class="property">GeoJsonDataSource</span>.<span class="title function_">load</span>(    <span class="string">&quot;../../SampleData/ne_10m_us_states.topojson&quot;</span>,    &#123;      <span class="attr">stroke</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">HOTPINK</span>,      <span class="attr">fill</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">PINK</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),      <span class="attr">strokeWidth</span>: <span class="number">3</span>,    &#125;  ));</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%201.png" alt="微信图片_20220616142510.png"></p>
<h3 id="2cesium加载kml文件"><a class="markdownIt-Anchor" href="#2cesium加载kml文件">#</a> 2.Cesium 加载 kml 文件</h3>
<p>KML 介绍</p>
<p>KML (keyhole markup language) 是一种基于 XML 语法格式的文件，用来描述和存储地理信息数据（点、线、面、多边形、多面体以及模型等），通常应用于 Google 地球相关软件中（Google Earth，Google Map 等），它跟 XML 文件最大的不同就是 KML 描述的是地理信息数据，同时 KML 已正式被 OGC 采用，成为 OGC 众多规范中的一个。KML 文件有两个文件扩展名：</p>
<p><em>.KML 和</em></p>
<p>.KMZ（一个或几个 KML 文件的压缩集，采用 zip 格式压缩）。Cesium 从 1.7 版开始就支持 KML，目前对 KML 的支持还不完整，但是支持大量的标准以及 Google 的 gx 扩展名称空间。有关支持哪些内容和不支持哪些内容的详细列表，请参见 Github 问题 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2Nlc2l1bS9pc3N1ZXMvODczJUUzJTgwJTgy">https://github.com/CesiumGS/cesium/issues/873。</span></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Cesium</span>.<span class="property">KmlDataSource</span>.<span class="title function_">load</span>(  <span class="string">&quot;../../SampleData/kml/facilities/facilities.kml&quot;</span>,  &#123;    <span class="attr">camera</span>: viewer.<span class="property">scene</span>.<span class="property">camera</span>,    <span class="attr">canvas</span>: viewer.<span class="property">scene</span>.<span class="property">canvas</span>,  &#125;)</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%202.png" alt="微信图片_20220616142510.png"></p>
<h3 id="3cesium加载czml文件"><a class="markdownIt-Anchor" href="#3cesium加载czml文件">#</a> 3.Cesium 加载 czml 文件</h3>
<p>CZML 介绍</p>
<p>CZML 是 cesium 中很重要的一个概念，也是一个亮点，它使得 cesium 很酷很炫地展示动态数据成为可能。CZML 是一种 JSON 格式的字符串，用于描述与时间有关的动画场景，CZML 包含点、线、地标、模型和其他的一些图形元素，并指明了这些元素如何随时间而变化。Cesium 拥有一套富客户端 API，通过 CZML 采用数据驱动的方式，不用写代码我就可以使用通用的 Cesium viewer 构建出丰富的场景。某种程度上说，，Cesium 和 CZML 的关系就像 Google Earth 和 KML 的关系，两者都是用于描述其各自客户端中的场景的数据格式，并且旨在由各种各样的应用程序生成，甚至可能是手工编写的 。下面是一个典型的 CZML 数据结构：</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[    <span class="comment">// packet one    &#123;        &quot;id&quot;: &quot;GroundControlStation&quot;        &quot;position&quot;: &#123; &quot;cartographicDegrees&quot;: [-75.5, 40.0, 0.0] &#125;,        &quot;point&quot;: &#123;            &quot;color&quot;: &#123; &quot;rgba&quot;: [0, 0, 255, 255] &#125;,        &#125;    &#125;,    // packet two    &#123;        &quot;id&quot;: &quot;PredatorUAV&quot;,        // ...    &#125;]</span></span><br></pre></td></tr></table></figure>
<p>如上 CZML 片段描述了两个数据包，每个数据包都有一个 id 标识它描述的对象的属性。id 不一定要求是 GUID，但它们确实需要唯一地标识 CZML 源中的单个对象。如果 id 未指定，Cesium 将自动生成一个唯一的。但是，这会阻止以后的数据包引用该对象，例如向该对象添加更多数据。除 id 属性之外，还包含更多的属性用于定义要绘制对象的属性。在上面的示例中，我们在 WGS 84 (-75.5,40.0,0.0) 位置中指定了一个 id 为 “ GroundControlStation” 对象，并在其位置绘制了一个蓝色的点。详细的数据结构和更多的属性可参考 CZML 数据结构 (<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FuYWx5dGljYWxHcmFwaGljc0luYy9jem1sLXdyaXRlci93aWtpL0NaTUwtU3RydWN0dXJl">https://github.com/AnalyticalGraphicsInc/czml-writer/wiki/CZML-Structure</span>)、数据包 (<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FuYWx5dGljYWxHcmFwaGljc0luYy9jem1sLXdyaXRlci93aWtpL1BhY2tldA==">https://github.com/AnalyticalGraphicsInc/czml-writer/wiki/Packet</span>) 这两个地址。<br>
CZML 比较特殊的是跟时间序列相关的属性。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;  </span><br><span class="line">    <span class="comment">// ...  </span></span><br><span class="line">    <span class="string">&quot;someInterpolatableProperty&quot;</span>: &#123;  </span><br><span class="line">        <span class="string">&quot;cartesian&quot;</span>: [  </span><br><span class="line">            <span class="string">&quot;2012-04-30T12:00Z&quot;</span>, <span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="comment">//表示当时间为2012-04-30T12:00Z，坐标为(1,2,3)</span></span><br><span class="line">            <span class="string">&quot;2012-04-30T12:01Z&quot;</span>, <span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>, <span class="comment">//表示当时间为2012-04-30T12:01Z，坐标为(4,5,6)</span></span><br><span class="line">            <span class="string">&quot;2012-04-30T12:02Z&quot;</span>, <span class="number">7.0</span>, <span class="number">8.0</span>, <span class="number">9.0</span>  <span class="comment">//表示当时间为2012-04-30T12:02Z，坐标为(7,8,9)</span></span><br><span class="line">        ]  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;  </span><br><span class="line">    <span class="comment">// ...  </span></span><br><span class="line">    <span class="string">&quot;someInterpolatableProperty&quot;</span>: &#123;  </span><br><span class="line">        <span class="string">&quot;epoch&quot;</span>: <span class="string">&quot;2012-04-30T12:00Z&quot;</span>, <span class="comment">//表示时间起点为2012-04-30T12:00：00 </span></span><br><span class="line">        <span class="string">&quot;cartesian&quot;</span>: [  </span><br><span class="line">            <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>,  <span class="comment">//从起点开始，第0秒时坐标为(1,2,3)</span></span><br><span class="line">            <span class="number">60.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>, <span class="comment">//从起点开始，第60秒时坐标为(4,5,6) </span></span><br><span class="line">            <span class="number">120.0</span>, <span class="number">7.0</span>, <span class="number">8.0</span>, <span class="number">9.0</span> <span class="comment">//从起点开始，第120秒时坐标为(7,8,9) </span></span><br><span class="line">        ]  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line">&#123;  </span><br><span class="line">    <span class="comment">// ...  </span></span><br><span class="line">    <span class="string">&quot;someInterpolatableProperty&quot;</span>: &#123;  </span><br><span class="line">        <span class="string">&quot;epoch&quot;</span>: <span class="string">&quot;2012-04-30T12:00Z&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;cartesian&quot;</span>: [  </span><br><span class="line">            <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>,  </span><br><span class="line">            <span class="number">60.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>,  </span><br><span class="line">            <span class="number">120.0</span>, <span class="number">7.0</span>, <span class="number">8.0</span>, <span class="number">9.0</span>  </span><br><span class="line">        ],  </span><br><span class="line">        <span class="string">&quot;interpolationAlgorithm&quot;</span>: <span class="string">&quot;LAGRANGE&quot;</span>,  <span class="comment">//插值算法为LAGRANGE，还有HERMITE,GEODESIC</span></span><br><span class="line">        <span class="string">&quot;interpolationDegree&quot;</span>: <span class="number">5</span> <span class="comment">//1为线性插值，2为平方插值</span></span><br><span class="line">    &#125;, </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>定义了一个 CZML 后，就可以把它载入到场景中，就能获得该对象的动态效果。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> viewer = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Viewer</span>(<span class="string">&quot;cesiumContainer&quot;</span>, &#123;  <span class="attr">animation</span>: <span class="literal">true</span>, <span class="comment">// 动画小组件  shouldAnimate: true,&#125;);viewer.dataSources.add(  Cesium.CzmlDataSource.load(&quot;../../SampleData/Vehicle.czml&quot;)  );</span></span><br></pre></td></tr></table></figure>
<p>下面是加载 cesium 官网提供的 Vehicle.czml 数据示例的效果，一辆小车缓缓移动，可通过动画控制器对小车进行快进、暂停、倒放、回放等等操作。</p>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%203.png" alt="微信图片_20220616142510.png"></p>
<h1 id="4空间数据可视化之entity"><a class="markdownIt-Anchor" href="#4空间数据可视化之entity">#</a> 4.<strong><strong> 空间数据可视化之 Entity</strong></strong></h1>
<p>Cesium 在空间数据可视化方面提供了两种类型的 API，一种是面向图形开发人员的低级（原始）API，通过 Primitive 类实现，对于那些对计算机图形学知识很了解的同学可以采用 Primitive API，后面章节会有详细介绍；另一种是用于数据驱动的高级（实体）API，通过 Entity 类实现，相对于 Primitive API，Entity API 实现起来更简单一些，特别建议初学者使用。Entity API 实际上是对 Primitive API 的二次封装，底层调用的仍然是 Primitive API，目的就是为我们提供灵活的、易学、易用的高性能可视化界面。本章节内容主要介绍后者 Entity API，Primitive API 放在后面的高级篇里讲解。</p>
<h3 id="1entity支持的图形类型"><a class="markdownIt-Anchor" href="#1entity支持的图形类型">#</a> 1.Entity 支持的图形类型</h3>
<p>通过在 Cesium API 文档中查看 Entity 类的构造函数，我们发现 Entity 支持的图形类型都是以 Graphics 结尾的，一共有 17 种类型。如下图所示，列出了 Entity 支持的图形类型以及对应的 js 类。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZVpwS0g5WWtMaGlhZzl4a1BFM2VrcjVkTG43a001Rnk5RmliYTlYREJBblg5aWJtZlNRZ2ljWXJVaWFtTVo0aWJBR0xhTXlTaWJ2dHU0cEsyb3RBLzY0MD93eF9mbXQ9cG5nJmFtcDt3eGZyb209NSZhbXA7d3hfbGF6eT0xJmFtcDt3eF9jbz0x">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeZpKH9YkLhiag9xkPE3ekr5dLn7kM5Fy9Fiba9XDBAnX9ibmfSQgicYrUiamMZ4ibAGLaMySibvtu4pK2otA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9pY2JudllYZzZFZVpwS0g5WWtMaGlhZzl4a1BFM2VrcjVkbENHUDh6QTV4eGxuaWM2ME8zZkI2TWh6SEVkQkNNVU93RVlVbFF3WFlCaWFCY3FTM2JZYVg4ZWcvNjQwP3d4X2ZtdD1wbmcmYW1wO3d4ZnJvbT01JmFtcDt3eF9sYXp5PTEmYW1wO3d4X2NvPTE=">https://mmbiz.qpic.cn/mmbiz_png/icbnvYXg6EeZpKH9YkLhiag9xkPE3ekr5dlCGP8zA5xxlnic60O3fB6MhzHEdBCMUOwEYUlQwXYBiaBcqS3bYaX8eg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</span></p>
<p>下面，简单介绍一下每一种类型的 Graphic 添加方式。</p>
<p><strong>1）billboard 广告牌</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="comment">// id: &quot;&quot;,</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;billboard&quot;</span>,</span><br><span class="line">      <span class="comment">// show: true,</span></span><br><span class="line">      <span class="comment">// description: &quot;&quot;,</span></span><br><span class="line">      <span class="comment">// orientation: &quot;&quot;,</span></span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">75.59777</span>, <span class="number">40.03883</span>),</span><br><span class="line">      <span class="attr">billboard</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// default</span></span><br><span class="line">        <span class="attr">image</span>: <span class="string">&quot;./images/Cesium_Logo_overlay.png&quot;</span>, <span class="comment">// default: undefined</span></span><br><span class="line">        <span class="attr">scale</span>: <span class="number">2.0</span>, <span class="comment">// default: 1.0</span></span><br><span class="line">        <span class="comment">//像素偏移    type: Cartesian2    default:Cartesian2.ZERO</span></span><br><span class="line">        <span class="attr">pixelOffset</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian2</span>(<span class="number">0</span>, -<span class="number">50</span>),</span><br><span class="line">        <span class="comment">//眼睛偏移    type: Cartesian3    default:Cartesian3.ZERO</span></span><br><span class="line">        <span class="attr">eyeOffset</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 水平对齐方式  type: HorizontalOrigin  default:HorizontalOrigin.CENTER</span></span><br><span class="line">        <span class="comment">// CENTER 原点在对象的水平中心；LEFT 原点在对象的左侧；RIGHT 原点在对象的右侧</span></span><br><span class="line">        <span class="attr">horizontalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">HorizontalOrigin</span>.<span class="property">CENTER</span>,</span><br><span class="line">        <span class="comment">// 垂直对齐方式  type: VerticalOrigin  default:VerticalOrigin.CENTER</span></span><br><span class="line">        <span class="comment">// CENTER 原点位于 BASELINE 和 TOP 之间的垂直中心；BOTTOM 原点在对象的底部；</span></span><br><span class="line">        <span class="comment">// BASELINE 如果对象包含文本，则原点位于文本的基线，否则原点位于对象的底部；TOP 原点在对象的顶部</span></span><br><span class="line">        <span class="attr">verticalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">VerticalOrigin</span>.<span class="property">BOTTOM</span>, <span class="comment">// default: CENTER 垂直对齐位置 参考Cesium.VerticalOrigin</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取或设置此广告牌的高度参考    type: HeightReference    default:HeightReference.NONE</span></span><br><span class="line">        <span class="comment">// NONE 位置绝对；CLAMP_TO_GROUND 位置固定在地形上；RELATIVE_TO_GROUND 位置高度是指地形上方的高度</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">CLAMP_TO_GROUND</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 颜色  type: Color  default:Color.WHITE</span></span><br><span class="line">        <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">LIME</span>,</span><br><span class="line">        <span class="comment">// 获取或设置以弧度为单位的旋转角度  type: number  default:0</span></span><br><span class="line">        <span class="attr">rotation</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">PI_OVER_FOUR</span>,</span><br><span class="line">        <span class="comment">// 获取或设置世界空间中的对齐轴  type:Cartesian3  default:Cartesian3.ZERO</span></span><br><span class="line">        <span class="attr">alignedAxis</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="property">ZERO</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">100</span>, <span class="comment">// default: undefined</span></span><br><span class="line">        <span class="attr">height</span>: <span class="number">25</span>, <span class="comment">// default: undefined</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据广告牌与相机的距离获取或设置广告牌的近和远缩放属性  type:NearFarScalar</span></span><br><span class="line">        <span class="attr">scaleByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(<span class="number">1.0e3</span>, <span class="number">2.0</span>, <span class="number">2.0e3</span>, <span class="number">1.0</span>),</span><br><span class="line">        <span class="comment">// 根据广告牌到相机的距离，获取或设置广告牌的近和远半透明属性  type:NearFarScalar</span></span><br><span class="line">        <span class="attr">translucencyByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(</span><br><span class="line">          <span class="number">1.0e3</span>,</span><br><span class="line">          <span class="number">1.0</span>,</span><br><span class="line">          <span class="number">1.5e6</span>,</span><br><span class="line">          <span class="number">0.5</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// 根据广告牌与摄像头的距离，获取或设置广告牌的近像素偏移量和远像素偏移量缩放属性  type:NearFarScalar</span></span><br><span class="line">        <span class="attr">pixelOffsetScaleByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(</span><br><span class="line">          <span class="number">1.0e3</span>,</span><br><span class="line">          <span class="number">1.0</span>,</span><br><span class="line">          <span class="number">1.5e6</span>,</span><br><span class="line">          <span class="number">0.0</span></span><br><span class="line">        ),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置1000米和2000米之间可见  type:DistanceDisplayCondition</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="comment">// 获取或设置与相机的距离，在深度处禁用深度测试，例如，以防止剪切地形。</span></span><br><span class="line">        <span class="comment">// 设置为零时，将始终应用深度测试。设置为Number.POSITIVE_INFINITY时，永远不会应用深度测试。</span></span><br><span class="line">        <span class="attr">disableDepthTestDistance</span>: <span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>2）box 盒子</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">107.0</span>, <span class="number">40.0</span>, <span class="number">300000.0</span>),</span><br><span class="line">      <span class="attr">box</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">dimensions</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(<span class="number">400000.0</span>, <span class="number">300000.0</span>, <span class="number">500000.0</span>), <span class="comment">// Cartesian3类型，用于指定框的长度，宽度和高度</span></span><br><span class="line">        <span class="comment">// 指定距实体位置的高度是相对于什么的高度。default: HeightReference.NONE</span></span><br><span class="line">        <span class="comment">// NONE  位置绝对；CLAMP_TO_GROUND  位置固定在地形上；RELATIVE_TO_GROUND 位置高度是指地形上方的高度。</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// MaterialProperty|Color  default:Color.WHITE</span></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// type:Property|Color  default:Color.BLACK</span></span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// type:ShadowMode  default:ShadowMode.DISABLED</span></span><br><span class="line">        <span class="comment">// DISABLED  对象不投射或接收阴影；ENABLED  对象投射并接收阴影；CAST_ONLY  对象仅投射阴影；RECEIVE_ONLY 该对象仅接收阴影。</span></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// type:DistanceDisplayCondition</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>3）corridor 走廊</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;corridor&quot;</span>,</span><br><span class="line">      <span class="attr">corridor</span>: &#123;</span><br><span class="line">        <span class="comment">// show: true,</span></span><br><span class="line">        <span class="comment">// 指定定义走廊中心线的 Cartesian3 位置的数组  type: Cartesian3</span></span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">80.0</span>,</span><br><span class="line">          <span class="number">40.0</span>,</span><br><span class="line">          -<span class="number">85.0</span>,</span><br><span class="line">          <span class="number">40.0</span>,</span><br><span class="line">          -<span class="number">85.0</span>,</span><br><span class="line">          <span class="number">35.0</span>,</span><br><span class="line">        ]),</span><br><span class="line">        <span class="attr">width</span>: <span class="number">200000.0</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">200000.0</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">extrudedHeight</span>: <span class="number">100000.0</span>,</span><br><span class="line">        <span class="attr">extrudedHeightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 拐角的样式  type:CornerType  default:CornerType.ROUNDED</span></span><br><span class="line">        <span class="comment">// ROUNDED  角有光滑的边缘；MITERED  拐角点是相邻边的交点；BEVELED  角被修剪</span></span><br><span class="line">        <span class="attr">cornerType</span>: <span class="title class_">Cesium</span>.<span class="property">CornerType</span>.<span class="property">ROUNDED</span>,</span><br><span class="line">        <span class="attr">granularity</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">RADIANS_PER_DEGREE</span>, <span class="comment">// 每个纬度和经度之间的距离</span></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 材质  type:MaterialProperty|Color  default:Color.WHITE</span></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">true</span>, <span class="comment">// height or extrudedHeight must be set for outlines to display</span></span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">WHITE</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="comment">// 走廊在地面上时将对地形，3D tiles还是对两者进行分类  type:ClassificationType  default:ClassificationType.BOTH</span></span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">BOTH</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>4）cylinder 圆柱、圆锥</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;cylinder&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">105.0</span>, <span class="number">40.0</span>, <span class="number">200000.0</span>),</span><br><span class="line">      <span class="attr">cylinder</span>: &#123;</span><br><span class="line">        <span class="comment">// show: true,</span></span><br><span class="line">        <span class="attr">length</span>: <span class="number">400000.0</span>, <span class="comment">// 圆柱体长度</span></span><br><span class="line">        <span class="attr">topRadius</span>: <span class="number">200000.0</span>, <span class="comment">// 圆柱体顶部半径</span></span><br><span class="line">        <span class="attr">bottomRadius</span>: <span class="number">200000.0</span>, <span class="comment">// 圆柱体底部半径</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">GREEN</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">DARK_GREEN</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">numberOfVerticalLines</span>: <span class="number">16</span>, <span class="comment">// 沿轮廓的周长绘制的垂直线的数量</span></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="attr">slices</span>: <span class="number">128</span>, <span class="comment">// 圆柱周围的边缘数量</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>5）ellipse 椭圆或拉伸的椭圆</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Circles and Ellipses&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">95.0</span>, <span class="number">40.0</span>, <span class="number">100000.0</span>),</span><br><span class="line">      <span class="attr">ellipse</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">semiMajorAxis</span>: <span class="number">300000.0</span>, <span class="comment">// 长半轴距离</span></span><br><span class="line">        <span class="attr">semiMinorAxis</span>: <span class="number">150000.0</span>, <span class="comment">// 短半轴距离</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">height</span>: <span class="number">20000.0</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">extrudedHeight</span>: <span class="number">20000.0</span>,</span><br><span class="line">        <span class="attr">extrudedHeightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// rotation: Cesium.Math.toRadians(45), // 从北方逆时针旋转</span></span><br><span class="line">        <span class="attr">stRotation</span>: <span class="number">0.0</span>, <span class="comment">// 纹理从北方逆时针旋转</span></span><br><span class="line">        <span class="attr">granularity</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">RADIANS_PER_DEGREE</span>, <span class="comment">// 椭圆上各点之间的角距离</span></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">DARK_GREEN</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">numberOfVerticalLines</span>: <span class="number">16</span>, <span class="comment">// 沿轮廓的周长绘制的垂直线的数量</span></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在地面上时将对地形，3D tiles还是对两者进行分类  type:ClassificationType  default:ClassificationType.BOTH</span></span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D瓷砖进行分类;BOTH  将同时对Terrain和3D Tile进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">BOTH</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>6）ellipsoid 椭球体</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Spheres and Ellipsoids&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">100.0</span>, <span class="number">40.0</span>, <span class="number">300000.0</span>),</span><br><span class="line">      <span class="attr">ellipsoid</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">radii</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(<span class="number">200000.0</span>, <span class="number">200000.0</span>, <span class="number">300000.0</span>), <span class="comment">// 椭球半径</span></span><br><span class="line">        <span class="comment">// innerRadii: new Cesium.Cartesian3(0.0, 0.0, 0.0), // 椭球内部半径</span></span><br><span class="line">        <span class="attr">minimumClock</span>: <span class="number">0.0</span>, <span class="comment">// 最小时钟角度</span></span><br><span class="line">        <span class="attr">maximumClock</span>: <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, <span class="comment">// 最大时钟角度</span></span><br><span class="line">        <span class="attr">minimumCone</span>: <span class="number">0.0</span>, <span class="comment">// 最小圆锥角</span></span><br><span class="line">        <span class="attr">maximumCone</span>: <span class="title class_">Math</span>.<span class="property">PI</span>, <span class="comment">// 最大圆锥角</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">YELLOW</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">stackPartitions</span>: <span class="number">64</span>, <span class="comment">// 延纬度线切割的次数</span></span><br><span class="line">        <span class="attr">slicePartitions</span>: <span class="number">64</span>, <span class="comment">// 延经度线切割的次数</span></span><br><span class="line">        <span class="attr">subdivisions</span>: <span class="number">128</span>, <span class="comment">// 每个轮廓环的样本数，确定曲率的粒度</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>7）label 标签</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;label&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(</span><br><span class="line">        -<span class="number">75.1641667</span>,</span><br><span class="line">        <span class="number">39.9522222</span>,</span><br><span class="line">        <span class="number">300000.0</span></span><br><span class="line">      ),</span><br><span class="line">      <span class="attr">label</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&quot;label标签&quot;</span>,</span><br><span class="line">        <span class="attr">font</span>: <span class="string">&quot;24px Helvetica&quot;</span>,</span><br><span class="line">        <span class="comment">// FILL  填充；OUTLINE 只显示边框；FILL_AND_OUTLINE 既有填充又有边框</span></span><br><span class="line">        <span class="attr">style</span>: <span class="title class_">Cesium</span>.<span class="property">LabelStyle</span>.<span class="property">FILL_AND_OUTLINE</span>,</span><br><span class="line">        <span class="attr">scale</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">showBackground</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>,</span><br><span class="line">        <span class="attr">backgroundPadding</span>: <span class="keyword">new</span> <span class="title class_">Cartesian2</span>(<span class="number">7</span>, <span class="number">5</span>),</span><br><span class="line">        <span class="attr">pixelOffset</span>: <span class="title class_">Cartesian2</span>.<span class="property">ZERO</span>,</span><br><span class="line">        <span class="attr">eyeOffset</span>: <span class="title class_">Cartesian3</span>.<span class="property">ZERO</span>,</span><br><span class="line">        <span class="attr">horizontalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">HorizontalOrigin</span>.<span class="property">CENTER</span>,</span><br><span class="line">        <span class="attr">verticalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">VerticalOrigin</span>.<span class="property">CENTER</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">fillColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">SKYBLUE</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">translucencyByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(</span><br><span class="line">          <span class="number">1.0e3</span>,</span><br><span class="line">          <span class="number">1.0</span>,</span><br><span class="line">          <span class="number">1.5e6</span>,</span><br><span class="line">          <span class="number">0.5</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="attr">pixelOffsetScaleByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(</span><br><span class="line">          <span class="number">1.0e3</span>,</span><br><span class="line">          <span class="number">1.0</span>,</span><br><span class="line">          <span class="number">1.5e6</span>,</span><br><span class="line">          <span class="number">0.0</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="attr">scaleByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(<span class="number">1.0e3</span>, <span class="number">2.0</span>, <span class="number">2.0e3</span>, <span class="number">1.0</span>),</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="attr">disableDepthTestDistance</span>: <span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>8）model 模型</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> position = <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(</span><br><span class="line">      -<span class="number">123.0744619</span>,</span><br><span class="line">      <span class="number">44.0503706</span>,</span><br><span class="line">      <span class="number">5000.0</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> heading = <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="title function_">toRadians</span>(<span class="number">135</span>);</span><br><span class="line">    <span class="keyword">var</span> pitch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> roll = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> hpr = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">HeadingPitchRoll</span>(heading, pitch, roll);</span><br><span class="line">    <span class="keyword">var</span> orientation = <span class="title class_">Cesium</span>.<span class="property">Transforms</span>.<span class="title function_">headingPitchRollQuaternion</span>(</span><br><span class="line">      position,</span><br><span class="line">      hpr</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> url = <span class="string">&quot;./data/models/CesiumAir/Cesium_Air.glb&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: position,</span><br><span class="line">      <span class="attr">orientation</span>: orientation,</span><br><span class="line">      <span class="attr">model</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">uri</span>: url,</span><br><span class="line">        <span class="attr">scale</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">minimumPixelSize</span>: <span class="number">128</span>, <span class="comment">// 模型的最小最小像素大小，而不考虑缩放</span></span><br><span class="line">        <span class="attr">maximumScale</span>: <span class="number">20000</span>, <span class="comment">// 模型的最大比例尺大小。minimumPixelSize的上限</span></span><br><span class="line">        <span class="attr">incrementallyLoadTextures</span>: <span class="literal">true</span>, <span class="comment">// 确定在加载模型后纹理是否可以继续流入</span></span><br><span class="line">        <span class="attr">runAnimations</span>: <span class="literal">true</span>, <span class="comment">// 是否应启动模型中指定的glTF动画</span></span><br><span class="line">        <span class="attr">clampAnimations</span>: <span class="literal">true</span>, <span class="comment">// glTF动画是否应在没有关键帧的持续时间内保持最后一个姿势</span></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">silhouetteColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>, <span class="comment">// 轮廓的颜色</span></span><br><span class="line">        <span class="attr">silhouetteSize</span>: <span class="number">0.0</span>, <span class="comment">// 轮廓的宽度</span></span><br><span class="line">        <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">WHITE</span>, <span class="comment">// 模型的颜色</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 目标颜色和图元的源颜色之间混合的不同模式</span></span><br><span class="line">        <span class="comment">// HIGHLIGHT 将源颜色乘以目标颜色;REPLACE 将源颜色替换为目标颜色;MIX 将源颜色和目标颜色混合在一起</span></span><br><span class="line">        <span class="attr">colorBlendMode</span>: <span class="title class_">Cesium</span>.<span class="property">ColorBlendMode</span>.<span class="property">HIGHLIGHT</span>,</span><br><span class="line">        <span class="comment">// 用于指定 colorBlendMode 为 MIX 时的颜色强度。值0.0会产生模型的着色，而值1.0会导致纯色，介于两者之间的任何值都会导致两者混合</span></span><br><span class="line">        <span class="attr">colorBlendAmount</span>: <span class="number">0.5</span>,</span><br><span class="line">        <span class="attr">imageBasedLightingFactor</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian2</span>(<span class="number">1.0</span>, <span class="number">1.0</span>), <span class="comment">// 指定基于漫反射和镜面反射的图像照明的贡献</span></span><br><span class="line">        <span class="attr">lightColor</span>: <span class="literal">undefined</span>, <span class="comment">// 为模型着色时指定浅色的属性。如果 undefined ，则使用场景的浅色。</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>tileset 3D Tiles 瓦片集</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tileset = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;3D Tiles&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">114.0</span>, <span class="number">40.0</span>, <span class="number">300000.0</span>),</span><br><span class="line">      <span class="attr">tileset</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">uri</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Plane</span>(<span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="property">UNIT_X</span>, <span class="number">0.0</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>10）path 路径</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entityPath = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: pathPosition,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;path&quot;</span>,</span><br><span class="line">      <span class="attr">path</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">leadTime</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">trailTime</span>: <span class="number">60</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">resolution</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">PolylineGlowMaterialProperty</span>(&#123;</span><br><span class="line">          <span class="attr">glowPower</span>: <span class="number">0.3</span>,</span><br><span class="line">          <span class="attr">taperPower</span>: <span class="number">0.3</span>,</span><br><span class="line">          <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">PALEGOLDENROD</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>11）plane 平面</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bluePlane = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Blue plane&quot;</span>,</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">114.0</span>, <span class="number">40.0</span>, <span class="number">300000.0</span>),</span><br><span class="line">      <span class="attr">plane</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 用于指定平面的法线和距离</span></span><br><span class="line">        <span class="attr">plane</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Plane</span>(<span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="property">UNIT_X</span>, <span class="number">0.0</span>),</span><br><span class="line">        <span class="attr">dimensions</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian2</span>(<span class="number">400000.0</span>, <span class="number">300000.0</span>), <span class="comment">// 指定平面的宽度和高度</span></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>,</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// type:DistanceDisplayCondition</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>12）point 点</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">75.59777</span>, <span class="number">40.03883</span>),</span><br><span class="line">      <span class="attr">point</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pixelSize</span>: <span class="number">10</span>, <span class="comment">// 像素大小</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">YELLOW</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">scaleByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(<span class="number">1.0e3</span>, <span class="number">10.0</span>, <span class="number">2.0e3</span>, <span class="number">1.0</span>),</span><br><span class="line">        <span class="attr">translucencyByDistance</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">NearFarScalar</span>(</span><br><span class="line">          <span class="number">1.0e3</span>,</span><br><span class="line">          <span class="number">1.0</span>,</span><br><span class="line">          <span class="number">1.5e6</span>,</span><br><span class="line">          <span class="number">0.5</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="comment">// 获取或设置与相机的距离，在深度处禁用深度测试，例如，以防止剪切地形。</span></span><br><span class="line">        <span class="comment">// 设置为零时，将始终应用深度测试。设置为Number.POSITIVE_INFINITY时，永远不会应用深度测试。</span></span><br><span class="line">        <span class="attr">disableDepthTestDistance</span>: <span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>13）polygon 多边形</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> redPolygon = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Red polygon on surface&quot;</span>,</span><br><span class="line">      <span class="attr">polygon</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 指定PolygonHierarchy</span></span><br><span class="line">        <span class="attr">hierarchy</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">115.0</span>,</span><br><span class="line">          <span class="number">37.0</span>,</span><br><span class="line">          -<span class="number">115.0</span>,</span><br><span class="line">          <span class="number">32.0</span>,</span><br><span class="line">          -<span class="number">107.0</span>,</span><br><span class="line">          <span class="number">33.0</span>,</span><br><span class="line">          -<span class="number">102.0</span>,</span><br><span class="line">          <span class="number">31.0</span>,</span><br><span class="line">          -<span class="number">102.0</span>,</span><br><span class="line">          <span class="number">35.0</span>,</span><br><span class="line">        ]),</span><br><span class="line">        <span class="attr">height</span>: <span class="number">0</span>, <span class="comment">// 多边形相对于椭球面的高度</span></span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">NONE</span>,</span><br><span class="line">        <span class="comment">// extrudedHeight: 0, // 多边形的凸出面相对于椭球面的高度</span></span><br><span class="line">        <span class="comment">// extrudedHeightReference: Cesium.HeightReference.NONE,</span></span><br><span class="line">        <span class="attr">stRotation</span>: <span class="number">0.0</span>, <span class="comment">// 多边形纹理从北方逆时针旋转</span></span><br><span class="line">        <span class="attr">granularity</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">RADIANS_PER_DEGREE</span>, <span class="comment">// 每个纬度和经度点之间的角距离</span></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>,</span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">perPositionHeight</span>: <span class="literal">false</span>, <span class="comment">// 是否使用每个位置的高度</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">closeTop</span>: <span class="literal">true</span>, <span class="comment">// 如果为false，则将挤出的多边形顶部留空</span></span><br><span class="line">        <span class="attr">closeBottom</span>: <span class="literal">true</span>, <span class="comment">// 如果为false，则将挤出的多边形的底部保留为开放状态</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 多边形边缘必须遵循的线型    type:ArcType 定义连接顶点应采用的路径。</span></span><br><span class="line">        <span class="comment">// NONE 与椭圆表面不符的直线;GEODESIC 遵循测地路径;RHUMB  遵循大黄蜂或恶魔般的道路。</span></span><br><span class="line">        <span class="attr">arcType</span>: <span class="title class_">Cesium</span>.<span class="property">ArcType</span>.<span class="property">GEODESIC</span>,</span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="comment">// 在地面上时将对地形，3D tiles还是对两者进行分类  type:ClassificationType  default:ClassificationType.BOTH</span></span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">BOTH</span>,</span><br><span class="line">        <span class="comment">// 指定用于订购地面几何形状的z索引。仅在多边形为常数且未指定高度或拉伸高度的情况下才有效  type:ConstantProperty</span></span><br><span class="line">        <span class="attr">zIndex</span>: <span class="number">0</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>14）polyline 多线段</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> redLine = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Red line on terrain&quot;</span>,</span><br><span class="line">      <span class="attr">polyline</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 定义线条的 Cartesian3 位置的数组</span></span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([-<span class="number">75</span>, <span class="number">35</span>, -<span class="number">125</span>, <span class="number">35</span>]),</span><br><span class="line"></span><br><span class="line">        <span class="attr">width</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="comment">// 如果arcType不是ArcType.NONE，则指定每个纬度和经度之间的角距离</span></span><br><span class="line">        <span class="comment">// granularity: Cesium.Math.RADIANS_PER_DEGREE,</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>,</span><br><span class="line">        <span class="comment">// 线低于地形时用于绘制折线的材质</span></span><br><span class="line">        <span class="comment">// depthFailMaterial: Cesium.Color.WHITE,</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 折线段必须遵循的线型</span></span><br><span class="line">        <span class="comment">// arcType: Cesium.ArcType.GEODESIC,</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">clampToGround</span>: <span class="literal">true</span>, <span class="comment">// 是否贴地</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>, <span class="comment">// 折线是投射还是接收光源的阴影</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在地面上时将对地形，3D tiles还是对两者进行分类  type:ClassificationType  default:ClassificationType.BOTH</span></span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">BOTH</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 指定用于订购地面几何形状的z索引。仅在多边形为常数且未指定高度或拉伸高度的情况下才有效  type:ConstantProperty</span></span><br><span class="line">        <span class="comment">// zIndex: 0,</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>15）polylineVolume 多线段柱体</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">computeCircle</span>(<span class="params">radius</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> positions = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">360</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> radians = <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="title function_">toRadians</span>(i);</span><br><span class="line">        positions.<span class="title function_">push</span>(</span><br><span class="line">          <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian2</span>(</span><br><span class="line">            radius * <span class="title class_">Math</span>.<span class="title function_">cos</span>(radians),</span><br><span class="line">            radius * <span class="title class_">Math</span>.<span class="title function_">sin</span>(radians)</span><br><span class="line">          )</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> positions;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> redTube = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Red tube with rounded corners&quot;</span>,</span><br><span class="line">      <span class="attr">polylineVolume</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 定义线带的 Cartesian3 位置的数组</span></span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">85.0</span>,</span><br><span class="line">          <span class="number">32.0</span>,</span><br><span class="line">          -<span class="number">85.0</span>,</span><br><span class="line">          <span class="number">36.0</span>,</span><br><span class="line">          -<span class="number">89.0</span>,</span><br><span class="line">          <span class="number">36.0</span>,</span><br><span class="line">        ]),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 指定 Cartesian2 位置的数组，这些位置定义了要拉伸的形状</span></span><br><span class="line">        <span class="attr">shape</span>: <span class="title function_">computeCircle</span>(<span class="number">60000.0</span>),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 拐角的样式  type:CornerType</span></span><br><span class="line">        <span class="comment">// ROUNDED  拐角有光滑的边缘;MITERED 拐角点是相邻边的交点;BEVELED  拐角被修剪。</span></span><br><span class="line">        <span class="attr">cornerType</span>: <span class="title class_">Cesium</span>.<span class="property">CornerType</span>.<span class="property">ROUNDED</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果arcType不是ArcType.NONE，则指定每个纬度和经度之间的角距离</span></span><br><span class="line">        <span class="comment">// granularity: Cesium.Math.RADIANS_PER_DEGREE,</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>, <span class="comment">// 体积是投射还是接收光源的阴影</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// type:DistanceDisplayCondition</span></span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>16）rectangle 矩形</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> redRectangle = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Red translucent rectangle&quot;</span>,</span><br><span class="line">      <span class="attr">rectangle</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">coordinates</span>: <span class="title class_">Cesium</span>.<span class="property">Rectangle</span>.<span class="title function_">fromDegrees</span>(-<span class="number">110.0</span>, <span class="number">20.0</span>, -<span class="number">80.0</span>, <span class="number">25.0</span>),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// height: 0, // 矩形相对于椭球面的高度</span></span><br><span class="line">        <span class="comment">// heightReference: Cesium.HeightReference.NONE,</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// extrudedHeight: 0, // 矩形的拉伸面相对于椭球面的高度</span></span><br><span class="line">        <span class="comment">// extrudedHeightReference: Cesium.HeightReference.NONE,</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">rotation</span>: <span class="number">0.0</span>, <span class="comment">// 矩形从北方向顺时针方向的旋转</span></span><br><span class="line">        <span class="attr">stRotation</span>: <span class="number">0.0</span>, <span class="comment">// 矩形纹理从北方逆时针旋转</span></span><br><span class="line">        <span class="attr">granularity</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">RADIANS_PER_DEGREE</span>, <span class="comment">// 指定矩形上各点之间的角度距离</span></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line"></span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">        <span class="comment">// 在地面上时将对地形，3D tiles还是对两者进行分类  type:ClassificationType  default:ClassificationType.BOTH</span></span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">BOTH</span>,</span><br><span class="line">        <span class="comment">// 指定用于订购地面几何形状的z索引。仅在多边形为常数且未指定高度或拉伸高度的情况下才有效  type:ConstantProperty</span></span><br><span class="line">        <span class="attr">zIndex</span>: <span class="number">0</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><strong>17）wall 墙</strong></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> redWall = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Red wall at height&quot;</span>,</span><br><span class="line">      <span class="attr">wall</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArrayHeights</span>([</span><br><span class="line">          -<span class="number">115.0</span>,</span><br><span class="line">          <span class="number">44.0</span>,</span><br><span class="line">          <span class="number">200000.0</span>,</span><br><span class="line">          -<span class="number">90.0</span>,</span><br><span class="line">          <span class="number">44.0</span>,</span><br><span class="line">          <span class="number">200000.0</span>,</span><br><span class="line">        ]),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 用于墙底而不是地球表面的高度数组</span></span><br><span class="line">        <span class="attr">minimumHeights</span>: [<span class="number">100000.0</span>, <span class="number">100000.0</span>],</span><br><span class="line">        <span class="comment">// 用于墙顶的高度数组，而不是每个位置的高度</span></span><br><span class="line">        <span class="comment">// maximumHeights: [],</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">granularity</span>: <span class="title class_">Cesium</span>.<span class="property">Math</span>.<span class="property">RADIANS_PER_DEGREE</span>, <span class="comment">// 指定矩形上各点之间的角度距离</span></span><br><span class="line">        <span class="attr">fill</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">outline</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">outlineWidth</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">shadows</span>: <span class="title class_">Cesium</span>.<span class="property">ShadowMode</span>.<span class="property">DISABLED</span>,</span><br><span class="line">        <span class="comment">// distanceDisplayCondition: new Cesium.DistanceDisplayCondition(</span></span><br><span class="line">        <span class="comment">//   1.0e3,</span></span><br><span class="line">        <span class="comment">//   2.0e3</span></span><br><span class="line">        <span class="comment">// ),</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="2entity-聚合"><a class="markdownIt-Anchor" href="#2entity-聚合">#</a> 2.Entity 聚合</h3>
<p>同时，针对 Billboard、Label、Point，Cesium 提供了 EntityCluster 类用于实现聚合效果，但必须结合 PinBuilder 类实现。下面为实现聚合效果的核心代码：</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">      <span class="attr">camera</span>: viewer.<span class="property">scene</span>.<span class="property">camera</span>,</span><br><span class="line">      <span class="attr">canvas</span>: viewer.<span class="property">scene</span>.<span class="property">canvas</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> dataSourcePromise = viewer.<span class="property">dataSources</span>.<span class="title function_">add</span>(</span><br><span class="line">      <span class="title class_">Cesium</span>.<span class="property">KmlDataSource</span>.<span class="title function_">load</span>(<span class="string">&quot;./data/kml/facilities/facilities.kml&quot;</span>, options)</span><br><span class="line">    );</span><br><span class="line">    dataSourcePromise.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">dataSource</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> pixelRange = <span class="number">15</span>;</span><br><span class="line">      <span class="keyword">var</span> minimumClusterSize = <span class="number">3</span>;</span><br><span class="line">      <span class="keyword">var</span> enabled = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">      dataSource.<span class="property">clustering</span>.<span class="property">enabled</span> = enabled;</span><br><span class="line">      dataSource.<span class="property">clustering</span>.<span class="property">pixelRange</span> = pixelRange; <span class="comment">// 扩展屏幕空间边界框的像素范围</span></span><br><span class="line">      dataSource.<span class="property">clustering</span>.<span class="property">minimumClusterSize</span> = minimumClusterSize; <span class="comment">// 可以聚合的最小屏幕空间对象</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> removeListener;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> pinBuilder = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">PinBuilder</span>();</span><br><span class="line">      <span class="keyword">var</span> pin50 = pinBuilder.<span class="title function_">fromText</span>(<span class="string">&quot;50+&quot;</span>, <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>, <span class="number">48</span>).<span class="title function_">toDataURL</span>();</span><br><span class="line">      <span class="keyword">var</span> pin40 = pinBuilder</span><br><span class="line">        .<span class="title function_">fromText</span>(<span class="string">&quot;40+&quot;</span>, <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">ORANGE</span>, <span class="number">48</span>)</span><br><span class="line">        .<span class="title function_">toDataURL</span>();</span><br><span class="line">      <span class="keyword">var</span> pin30 = pinBuilder</span><br><span class="line">        .<span class="title function_">fromText</span>(<span class="string">&quot;30+&quot;</span>, <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">YELLOW</span>, <span class="number">48</span>)</span><br><span class="line">        .<span class="title function_">toDataURL</span>();</span><br><span class="line">      <span class="keyword">var</span> pin20 = pinBuilder</span><br><span class="line">        .<span class="title function_">fromText</span>(<span class="string">&quot;20+&quot;</span>, <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">GREEN</span>, <span class="number">48</span>)</span><br><span class="line">        .<span class="title function_">toDataURL</span>();</span><br><span class="line">      <span class="keyword">var</span> pin10 = pinBuilder.<span class="title function_">fromText</span>(<span class="string">&quot;10+&quot;</span>, <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>, <span class="number">48</span>).<span class="title function_">toDataURL</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> singleDigitPins = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">8</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; singleDigitPins.<span class="property">length</span>; ++i) &#123;</span><br><span class="line">        singleDigitPins[i] = pinBuilder</span><br><span class="line">          .<span class="title function_">fromText</span>(<span class="string">&quot;&quot;</span> + (i + <span class="number">2</span>), <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">VIOLET</span>, <span class="number">48</span>)</span><br><span class="line">          .<span class="title function_">toDataURL</span>();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">customStyle</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Cesium</span>.<span class="title function_">defined</span>(removeListener)) &#123;</span><br><span class="line">          <span class="title function_">removeListener</span>();</span><br><span class="line">          removeListener = <span class="literal">undefined</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          removeListener = dataSource.<span class="property">clustering</span>.<span class="property">clusterEvent</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">            <span class="keyword">function</span> (<span class="params">clusteredEntities, cluster</span>) &#123;</span><br><span class="line">              cluster.<span class="property">label</span>.<span class="property">show</span> = <span class="literal">false</span>;</span><br><span class="line">              cluster.<span class="property">billboard</span>.<span class="property">show</span> = <span class="literal">true</span>;</span><br><span class="line">              cluster.<span class="property">billboard</span>.<span class="property">id</span> = cluster.<span class="property">label</span>.<span class="property">id</span>;</span><br><span class="line">              cluster.<span class="property">billboard</span>.<span class="property">verticalOrigin</span> = <span class="title class_">Cesium</span>.<span class="property">VerticalOrigin</span>.<span class="property">BOTTOM</span>;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (clusteredEntities.<span class="property">length</span> &gt;= <span class="number">50</span>) &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> = pin50;</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (clusteredEntities.<span class="property">length</span> &gt;= <span class="number">40</span>) &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> = pin40;</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (clusteredEntities.<span class="property">length</span> &gt;= <span class="number">30</span>) &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> = pin30;</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (clusteredEntities.<span class="property">length</span> &gt;= <span class="number">20</span>) &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> = pin20;</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (clusteredEntities.<span class="property">length</span> &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> = pin10;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cluster.<span class="property">billboard</span>.<span class="property">image</span> =</span><br><span class="line">                  singleDigitPins[clusteredEntities.<span class="property">length</span> - <span class="number">2</span>];</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// force a re-cluster with the new styling</span></span><br><span class="line">        <span class="keyword">var</span> pixelRange = dataSource.<span class="property">clustering</span>.<span class="property">pixelRange</span>;</span><br><span class="line">        dataSource.<span class="property">clustering</span>.<span class="property">pixelRange</span> = <span class="number">0</span>;</span><br><span class="line">        dataSource.<span class="property">clustering</span>.<span class="property">pixelRange</span> = pixelRange;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// start with custom style</span></span><br><span class="line">      <span class="title function_">customStyle</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> handler = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">ScreenSpaceEventHandler</span>(viewer.<span class="property">scene</span>.<span class="property">canvas</span>);</span><br><span class="line">      handler.<span class="title function_">setInputAction</span>(<span class="keyword">function</span> (<span class="params">movement</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> pickedLabel = viewer.<span class="property">scene</span>.<span class="title function_">pick</span>(movement.<span class="property">position</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Cesium</span>.<span class="title function_">defined</span>(pickedLabel)) &#123;</span><br><span class="line">          <span class="keyword">var</span> ids = pickedLabel.<span class="property">id</span>;</span><br><span class="line">          <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(ids)) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ids.<span class="property">length</span>; ++i) &#123;</span><br><span class="line">              ids[i].<span class="property">billboard</span>.<span class="property">color</span> = <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="title class_">Cesium</span>.<span class="property">ScreenSpaceEventType</span>.<span class="property">LEFT_CLICK</span>);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%204.png" alt="微信图片_20220616142510.png"></p>
<h3 id="3entity-管理"><a class="markdownIt-Anchor" href="#3entity-管理">#</a> 3.Entity 管理</h3>
<p>上面介绍了 Entity 的图形类型，有这么多类型的实体，Cesium 是如何管理这些实体对象的呢，这就需要我们从初始化 Viewer 对象开始说起了。当我们初始化 Viewer 类之后，会得到一个实例化对象 viewer，这个 viewer 会包含一个属性 entities ，它的类型是 EntityCollection ，也就是 Entity 的集合，它包括了 EntityCollection 类里面的所有属性和方法。所以 Cesium 管理 Entity 本质上是通过 EntityCollection 类进行管理的，比如 add（添加 Entity）、contains（是否存在某个 Entity）、getById（通过 ID 获取 Entity）、remove（移除某个 Entity）、removeAll（移除所有的 Entity）、removeById（通过 ID 移除 Entity）方法等。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> point = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">105.0</span>, <span class="number">41</span>, <span class="number">50010</span>),</span><br><span class="line">      <span class="attr">point</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pixelSize</span>: <span class="number">10</span>, <span class="comment">// 像素大小</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> entity = viewer.<span class="property">entities</span>.<span class="title function_">getById</span>(<span class="string">&quot;entity_1&quot;</span>);</span><br><span class="line">    viewer.<span class="property">entities</span>.<span class="title function_">remove</span>(entity);</span><br><span class="line">    <span class="comment">// viewer.entities.removeById(&quot;entity_1&quot;);</span></span><br><span class="line">    <span class="comment">// viewer.entities.removeAll();</span></span><br></pre></td></tr></table></figure>
<p>4.Entity 拾取</p>
<p>在三维场景种，很常见的一种交互方式，就是鼠标点击三维场景种某一个几何图形，查看该图形的包含的属性信息，并显示在对应的信息窗体中。单击事件通过 ScreenSpaceEventHandler 类注册，拾取到的信息可通过以下两种方式获取。</p>
<ul>
<li>scene.pick：获取窗体坐标处最顶部的实体；</li>
<li>scene.drillPick：窗体坐标处的实体列表。</li>
</ul>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加拾取事件</span></span><br><span class="line">    <span class="keyword">var</span> handler = <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">ScreenSpaceEventHandler</span>(viewer.<span class="property">canvas</span>);</span><br><span class="line">    handler.<span class="title function_">setInputAction</span>(<span class="keyword">function</span> (<span class="params">movement</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> pickedEntity = <span class="title function_">pickEntity</span>(viewer, movement.<span class="property">position</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(pickedEntity);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> pickedEntities = <span class="title function_">drillPickEntities</span>(viewer, movement.<span class="property">position</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(pickedEntities);</span><br><span class="line">    &#125;, <span class="title class_">Cesium</span>.<span class="property">ScreenSpaceEventType</span>.<span class="property">LEFT_CLICK</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">pickEntity</span>(<span class="params">viewer, windowPosition</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> picked = viewer.<span class="property">scene</span>.<span class="title function_">pick</span>(windowPosition);</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Cesium</span>.<span class="title function_">defined</span>(picked)) &#123;</span><br><span class="line">        <span class="keyword">var</span> id = <span class="title class_">Cesium</span>.<span class="title function_">defaultValue</span>(picked.<span class="property">id</span>, picked.<span class="property">primitive</span>.<span class="property">id</span>);</span><br><span class="line">        <span class="keyword">if</span> (id <span class="keyword">instanceof</span> <span class="title class_">Cesium</span>.<span class="property">Entity</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> id;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">drillPickEntities</span>(<span class="params">viewer, windowPosition</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> i;</span><br><span class="line">      <span class="keyword">var</span> entity;</span><br><span class="line">      <span class="keyword">var</span> picked;</span><br><span class="line">      <span class="keyword">var</span> pickedPrimitives = viewer.<span class="property">scene</span>.<span class="title function_">drillPick</span>(windowPosition);</span><br><span class="line">      <span class="keyword">var</span> length = pickedPrimitives.<span class="property">length</span>;</span><br><span class="line">      <span class="keyword">var</span> result = [];</span><br><span class="line">      <span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        picked = pickedPrimitives[i];</span><br><span class="line">        entity = <span class="title class_">Cesium</span>.<span class="title function_">defaultValue</span>(picked.<span class="property">id</span>, picked.<span class="property">primitive</span>.<span class="property">id</span>);</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          entity <span class="keyword">instanceof</span> <span class="title class_">Cesium</span>.<span class="property">Entity</span> &amp;&amp;</span><br><span class="line">          !<span class="title class_">Cesium</span>.<span class="title function_">defined</span>(hash[entity.<span class="property">id</span>])</span><br><span class="line">        ) &#123;</span><br><span class="line">          result.<span class="title function_">push</span>(entity);</span><br><span class="line">          hash[entity.<span class="property">id</span>] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5entity-固定"><a class="markdownIt-Anchor" href="#5entity-固定">#</a> 5.Entity 固定</h3>
<p>在实际的应用系统中，会有这样的需求，要求画的实体附着在地形表面、或三维建筑表面（比如视频融合），这时候就需要设置 xxGraphics 的相关属性了，可通过 heightReference 或 classificationType 这两个属性去控制。属性值描述如下：</p>
<ul>
<li>
<p>heightReference 属性值：NONE：位置绝对（默认值）；CLAMP_TO_GROUND：位置固定在地形上；</p>
<p>RELATIVE_TO_GROUND：位置高度是指地形上方的高度</p>
</li>
<li>
<p>classificationType 属性值：</p>
</li>
</ul>
<p>TERRAIN：将仅对地形进行分类；        CESIUM_3D_TILE：将仅对 3D Tiles 进行分类；</p>
<p>BOTH ：将同时对 Terrain 和 3D Tiles 进行分类。</p>
<p>其中 corridor 、 ellipse 、 polygon 、 polyline 、 rectangle 可通过设置 classificationType 属性值显示仅贴地、仅贴建筑或者两者都贴的效果，billboard 、 box 、 corridor 、 cylinder 、 ellipse 、 ellipsoid 、 label 、 model 、 point 、 polygon 、 tectangle 通过设置 heightReference 属性值为 CLAMP_TO_GROUND 显示贴地效果。这里需要注意的是，如果是 polyline 必须设置 clampToGround 属性为 true 。</p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set the heightReference to CLAMP_TO_GROUND</span></span><br><span class="line">    <span class="comment">// billboard box corridor cylinder ellipse ellipsoid label model point polygon tectangle</span></span><br><span class="line">    <span class="comment">// 其中corridor ellipse polygon retangle会自动贴地</span></span><br><span class="line">    viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">122.1958</span>, <span class="number">46.1915</span>),</span><br><span class="line">      <span class="attr">billboard</span>: &#123;</span><br><span class="line">        <span class="attr">image</span>: <span class="string">&quot;./images/facility.gif&quot;</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">CLAMP_TO_GROUND</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">point</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">SKYBLUE</span>,</span><br><span class="line">        <span class="attr">pixelSize</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">CLAMP_TO_GROUND</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">label</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&quot;Clamped to ground&quot;</span>,</span><br><span class="line">        <span class="attr">font</span>: <span class="string">&quot;14pt sans-serif&quot;</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">CLAMP_TO_GROUND</span>,</span><br><span class="line">        <span class="attr">horizontalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">HorizontalOrigin</span>.<span class="property">LEFT</span>,</span><br><span class="line">        <span class="attr">verticalOrigin</span>: <span class="title class_">Cesium</span>.<span class="property">VerticalOrigin</span>.<span class="property">BASELINE</span>,</span><br><span class="line">        <span class="attr">fillColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        <span class="attr">showBackground</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Color</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0.7</span>),</span><br><span class="line">        <span class="attr">backgroundPadding</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian2</span>(<span class="number">8</span>, <span class="number">4</span>),</span><br><span class="line">        <span class="attr">disableDepthTestDistance</span>: <span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>, <span class="comment">// draws the label in front of terrain</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">122.1958</span>, <span class="number">46.1915</span>),</span><br><span class="line">      <span class="attr">model</span>: &#123;</span><br><span class="line">        <span class="attr">uri</span>: <span class="string">&quot;./data/models/CesiumMan/Cesium_Man.glb&quot;</span>,</span><br><span class="line">        <span class="attr">heightReference</span>: <span class="title class_">Cesium</span>.<span class="property">HeightReference</span>.<span class="property">CLAMP_TO_GROUND</span>,</span><br><span class="line">        <span class="attr">minimumPixelSize</span>: <span class="number">128</span>,</span><br><span class="line">        <span class="attr">maximumScale</span>: <span class="number">100</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// corridors、ellipse、 polygons and rectangles will be clamped automatically </span></span><br><span class="line">    <span class="comment">// if they are filled with a constant color and  has no height or extruded height.</span></span><br><span class="line">    viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">position</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegrees</span>(-<span class="number">122.195</span>, <span class="number">46.1915</span>),</span><br><span class="line">      <span class="attr">corridor</span>: &#123;</span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">122.19</span>,</span><br><span class="line">          <span class="number">46.1914</span>,</span><br><span class="line">          -<span class="number">122.2</span>,</span><br><span class="line">          <span class="number">46.1924</span>,</span><br><span class="line">          -<span class="number">122.21</span>,</span><br><span class="line">          <span class="number">46.193</span>,</span><br><span class="line">        ]),</span><br><span class="line">        <span class="attr">width</span>: <span class="number">500.0</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">GREEN</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">ellipse</span>: &#123;</span><br><span class="line">        <span class="attr">semiMajorAxis</span>: <span class="number">300.0</span>, <span class="comment">// 长半轴距离</span></span><br><span class="line">        <span class="attr">semiMinorAxis</span>: <span class="number">150.0</span>, <span class="comment">// 短半轴距离</span></span><br><span class="line">        <span class="comment">// heightReference: Cesium.HeightReference.NONE,</span></span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLUE</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">        <span class="comment">// material: &quot;./images/Cesium_Logo_Color.jpg&quot;,</span></span><br><span class="line">        <span class="comment">// classificationType: Cesium.ClassificationType.BOTH,</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">polygon</span>: &#123;</span><br><span class="line">        <span class="attr">hierarchy</span>: &#123;</span><br><span class="line">          <span class="attr">positions</span>: [</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(</span><br><span class="line">              -<span class="number">2358138.847340281</span>,</span><br><span class="line">              -<span class="number">3744072.459541374</span>,</span><br><span class="line">              <span class="number">4581158.5714175375</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(</span><br><span class="line">              -<span class="number">2357231.4925370603</span>,</span><br><span class="line">              -<span class="number">3745103.7886602185</span>,</span><br><span class="line">              <span class="number">4580702.9757762635</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(</span><br><span class="line">              -<span class="number">2355912.902205431</span>,</span><br><span class="line">              -<span class="number">3744249.029778454</span>,</span><br><span class="line">              <span class="number">4582402.154378103</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">Cartesian3</span>(</span><br><span class="line">              -<span class="number">2357208.0209552636</span>,</span><br><span class="line">              -<span class="number">3743553.4420488174</span>,</span><br><span class="line">              <span class="number">4581961.863286629</span></span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// material: Cesium.Color.BLUE.withAlpha(0.5),</span></span><br><span class="line">        <span class="attr">material</span>: <span class="string">&quot;./images/Cesium_Logo_Color.jpg&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">rectangle</span>: &#123;</span><br><span class="line">        <span class="attr">coordinates</span>: <span class="title class_">Cesium</span>.<span class="property">Rectangle</span>.<span class="title function_">fromDegrees</span>(-<span class="number">122.2</span>, <span class="number">46.2</span>, -<span class="number">122.1</span>, <span class="number">46.3</span>),</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>.<span class="title function_">withAlpha</span>(<span class="number">0.5</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set the classificationType to TERRAIN</span></span><br><span class="line">    <span class="comment">// corridor ellipse polygon polyline rectangle</span></span><br><span class="line">    <span class="comment">// 其中polyline 必须 设置clampToGround = true</span></span><br><span class="line">    viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">polyline</span>: &#123;</span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">122.1968</span>,</span><br><span class="line">          <span class="number">46.1915</span>,</span><br><span class="line">          -<span class="number">122.1968</span>,</span><br><span class="line">          <span class="number">46.2015</span>,</span><br><span class="line">          -<span class="number">122.1968</span>,</span><br><span class="line">          <span class="number">46.2015</span>,</span><br><span class="line">        ]),</span><br><span class="line">        <span class="attr">clampToGround</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">ORANGE</span>,</span><br><span class="line">        <span class="attr">depthFailMaterial</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">RED</span>,</span><br><span class="line">        <span class="comment">// classificationType: Cesium.ClassificationType.BOTH,</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%205.png" alt="微信图片_20220616142510.png"></p>
<figure class="highlight js"><figcaption><span>scanner</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> polygon = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">polygon</span>: &#123;</span><br><span class="line">        <span class="attr">hierarchy</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">PolygonHierarchy</span>(</span><br><span class="line">          <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromRadiansArray</span>([</span><br><span class="line">            -<span class="number">1.3194369277314022</span>,</span><br><span class="line">            <span class="number">0.6988062530900625</span>,</span><br><span class="line">            -<span class="number">1.3193955980204217</span>,</span><br><span class="line">            <span class="number">0.6988091578771254</span>,</span><br><span class="line">            -<span class="number">1.3193931220959367</span>,</span><br><span class="line">            <span class="number">0.698743632490865</span>,</span><br><span class="line">            -<span class="number">1.3194358224045408</span>,</span><br><span class="line">            <span class="number">0.6987471965556998</span>,</span><br><span class="line">          ])</span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// NONE 位置绝对；CLAMP_TO_GROUND 位置固定在地形上；RELATIVE_TO_GROUND 位置高度是指地形上方的高度</span></span><br><span class="line">        <span class="comment">// heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,</span></span><br><span class="line">        <span class="comment">// material: Cesium.Color.RED.withAlpha(0.5),</span></span><br><span class="line">        <span class="attr">material</span>: <span class="string">&quot;./images/Cesium_Logo_Color.jpg&quot;</span>,</span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">CESIUM_3D_TILE</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> polyline = viewer.<span class="property">entities</span>.<span class="title function_">add</span>(&#123;</span><br><span class="line">      <span class="attr">polyline</span>: &#123;</span><br><span class="line">        <span class="attr">positions</span>: <span class="title class_">Cesium</span>.<span class="property">Cartesian3</span>.<span class="title function_">fromDegreesArray</span>([</span><br><span class="line">          -<span class="number">75.60217330403601</span>,</span><br><span class="line">          <span class="number">40.04102882709425</span>,</span><br><span class="line">          -<span class="number">75.59968252414251</span>,</span><br><span class="line">          <span class="number">40.04093615560871</span>,</span><br><span class="line">          -<span class="number">75.598020153828</span>,</span><br><span class="line">          <span class="number">40.04079437042357</span>,</span><br><span class="line">          -<span class="number">75.59674934074435</span>,</span><br><span class="line">          <span class="number">40.040816173283304</span>,</span><br><span class="line">          -<span class="number">75.59630042791713</span>,</span><br><span class="line">          <span class="number">40.03986900370842</span>,</span><br><span class="line">          -<span class="number">75.59563636849978</span>,</span><br><span class="line">          <span class="number">40.03930996506271</span>,</span><br><span class="line">          -<span class="number">75.59492397899098</span>,</span><br><span class="line">          <span class="number">40.03873932846581</span>,</span><br><span class="line">          -<span class="number">75.59457991226778</span>,</span><br><span class="line">          <span class="number">40.038392701955786</span>,</span><br><span class="line">          -<span class="number">75.59424838652453</span>,</span><br><span class="line">          <span class="number">40.03775403572295</span>,</span><br><span class="line">          -<span class="number">75.59387104290336</span>,</span><br><span class="line">          <span class="number">40.03677022167725</span>,</span><br><span class="line">          -<span class="number">75.59355000490342</span>,</span><br><span class="line">          <span class="number">40.03588760913535</span>,</span><br><span class="line">        ]),</span><br><span class="line">        <span class="attr">width</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">material</span>: <span class="keyword">new</span> <span class="title class_">Cesium</span>.<span class="title class_">PolylineOutlineMaterialProperty</span>(&#123;</span><br><span class="line">          <span class="attr">color</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">YELLOW</span>,</span><br><span class="line">          <span class="attr">outlineWidth</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">outlineColor</span>: <span class="title class_">Cesium</span>.<span class="property">Color</span>.<span class="property">BLACK</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="attr">clampToGround</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// TERRAIN 将仅对地形进行分类;CESIUM_3D_TILE 将仅对3D Tiles进行分类;BOTH  将同时对Terrain和3D Tiles进行分类。</span></span><br><span class="line">        <span class="attr">classificationType</span>: <span class="title class_">Cesium</span>.<span class="property">ClassificationType</span>.<span class="property">TERRAIN</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><img data-src="2%20%E5%9F%BA%E7%A1%80%E7%AF%87%20e7c5a7069a374ba695bddbf06b4c5ab2/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220616142510%206.png" alt="微信图片_20220616142510.png"></p>
<h1 id="5gltf介绍及加载"><a class="markdownIt-Anchor" href="#5gltf介绍及加载">#</a> 5.<strong><strong>glTF 介绍及加载</strong></strong></h1>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      <div class="tags">
          <a href="/tags/Cesium-js/" rel="tag"><i class="ic i-tag"></i> Cesium.js</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2023-05-29 10:00:32" itemprop="dateModified" datetime="2023-05-29T10:00:32+08:00">2023-05-29</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>我移除了点赞打赏功能....别点了</p>
  <div id="qr">
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>小矮人gason <i class="ic i-at"><em>@</em></i>Nichts ist wahr, alles ist erlaubt.
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="https://gason1997.github.io/2022/04/17/3D-study/Cesium/%E5%85%A5%E9%97%A8/4.cesium%E5%85%A5%E9%97%A8-%E8%AE%A4%E8%AF%86cesium/" title="4.cesium入门-cesium地图数据加载">https://gason1997.github.io/2022/04/17/3D-study/Cesium/入门/4.cesium入门-认识cesium/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2022/04/16/3D-study/Cesium/%E5%85%A5%E9%97%A8/3.cesium%E5%85%A5%E9%97%A8-cesium%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2023&#x2F;03&#x2F;10&#x2F;ppnOEdO.png" title="3.cesium入门-cesium是什么？">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> 基础知识</span>
  <h3>3.cesium入门-cesium是什么？</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2022/04/20/3D-study/Cesium/%E5%9F%BA%E7%A1%80/1.%E7%AC%AC%E4%B8%80%E4%B8%AAcesium/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2023&#x2F;03&#x2F;10&#x2F;ppnOEdO.png" title="1.cesium基础-第一个Cesium.js应用程序">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> 入门</span>
  <h3>1.cesium基础-第一个Cesium.js应用程序</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E5%8A%A0%E8%BD%BD%E5%BD%B1%E5%83%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">1.</span> <span class="toc-text"> 1. 加载影像数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1cesium%E4%B8%AD%E7%9A%84%E5%BD%B1%E5%83%8F%E5%9B%BE%E5%B1%82%E7%B1%BB"><span class="toc-number">1.0.1.</span> <span class="toc-text"> 1.Cesium 中的影像图层类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2cesium%E5%8A%A0%E8%BD%BD%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BD%B1%E5%83%8F%E5%9B%BE%E5%B1%82"><span class="toc-number">1.0.2.</span> <span class="toc-text"> 2.Cesium 加载不同类型的影像图层</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E5%8A%A0%E8%BD%BD%E5%9C%B0%E5%BD%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">2.</span> <span class="toc-text"> 2. 加载地形数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1cesium%E4%B8%AD%E7%9A%84%E5%9C%B0%E5%BD%A2%E5%9B%BE%E5%B1%82%E7%B1%BB"><span class="toc-number">2.0.1.</span> <span class="toc-text"> 1.Cesium 中的地形图层类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2cesium%E5%8A%A0%E8%BD%BD%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9C%B0%E5%BD%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">2.0.2.</span> <span class="toc-text"> 2.Cesium 加载不同的地形数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E5%8A%A0%E8%BD%BD%E7%9F%A2%E9%87%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">3.</span> <span class="toc-text"> 3. 加载矢量数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1cesium%E5%8A%A0%E8%BD%BDgeojson%E6%96%87%E4%BB%B6"><span class="toc-number">3.0.1.</span> <span class="toc-text"> 1.Cesium 加载 geojson 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2cesium%E5%8A%A0%E8%BD%BDkml%E6%96%87%E4%BB%B6"><span class="toc-number">3.0.2.</span> <span class="toc-text"> 2.Cesium 加载 kml 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3cesium%E5%8A%A0%E8%BD%BDczml%E6%96%87%E4%BB%B6"><span class="toc-number">3.0.3.</span> <span class="toc-text"> 3.Cesium 加载 czml 文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bentity"><span class="toc-number">4.</span> <span class="toc-text"> 4. 空间数据可视化之 Entity</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1entity%E6%94%AF%E6%8C%81%E7%9A%84%E5%9B%BE%E5%BD%A2%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.0.1.</span> <span class="toc-text"> 1.Entity 支持的图形类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2entity-%E8%81%9A%E5%90%88"><span class="toc-number">4.0.2.</span> <span class="toc-text"> 2.Entity 聚合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3entity-%E7%AE%A1%E7%90%86"><span class="toc-number">4.0.3.</span> <span class="toc-text"> 3.Entity 管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5entity-%E5%9B%BA%E5%AE%9A"><span class="toc-number">4.0.4.</span> <span class="toc-text"> 5.Entity 固定</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5gltf%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8A%A0%E8%BD%BD"><span class="toc-number">5.</span> <span class="toc-text"> 5.glTF 介绍及加载</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
        <ul>
          <li><a href="/2022/04/10/3D-study/Cesium/%E5%85%A5%E9%97%A8/1.3D%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80/" rel="bookmark" title="1.cesium入门-3D图形学基础">1.cesium入门-3D图形学基础</a></li><li><a href="/2022/04/11/3D-study/Cesium/%E5%85%A5%E9%97%A8/2.JavaScript%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="bookmark" title="2.cesium入门-编程语言">2.cesium入门-编程语言</a></li><li><a href="/2022/04/15/3D-study/Cesium/%E5%85%A5%E9%97%A8/5.cesium%E5%85%A5%E9%97%A8-cesium%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" rel="bookmark" title="5.cesium入门-cesium基础概念">5.cesium入门-cesium基础概念</a></li><li><a href="/2022/04/16/3D-study/Cesium/%E5%85%A5%E9%97%A8/3.cesium%E5%85%A5%E9%97%A8-cesium%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" rel="bookmark" title="3.cesium入门-cesium是什么？">3.cesium入门-cesium是什么？</a></li><li class="active"><a href="/2022/04/17/3D-study/Cesium/%E5%85%A5%E9%97%A8/4.cesium%E5%85%A5%E9%97%A8-%E8%AE%A4%E8%AF%86cesium/" rel="bookmark" title="4.cesium入门-cesium地图数据加载">4.cesium入门-cesium地图数据加载</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="小矮人gason"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">小矮人gason</p>
  <div class="description" itemprop="description">大丈夫之志应如长江东奔大海</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">74</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">44</span>
        <span class="name">分类</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">32</span>
        <span class="name">标签</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dhc29uMTk5Nw==" title="https:&#x2F;&#x2F;github.com&#x2F;gason1997"><i class="ic i-github"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS94aWFvLWFpLXJlbi01NS01Ng==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;xiao-ai-ren-55-56"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTI4ODYzNzQ4MA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;288637480"><i class="ic i-cloud-music"></i></span>
      <a href="/about/" title="&#x2F;about&#x2F;" class="item about"><i class="ic i-address-card"></i></a>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9zYW5nZ2UyMjIxMjk0NQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;sangge22212945"><i class="ic i-twitter"></i></span>
      <span class="exturl item youtube" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20v" title="https:&#x2F;&#x2F;www.youtube.com&#x2F;"><i class="ic i-youtube"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归纳</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/about" rel="section"><i class="ic i-user"></i>关于</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>相关链接</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2022/04/16/3D-study/Cesium/%E5%85%A5%E9%97%A8/3.cesium%E5%85%A5%E9%97%A8-cesium%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2022/04/20/3D-study/Cesium/%E5%9F%BA%E7%A1%80/1.%E7%AC%AC%E4%B8%80%E4%B8%AAcesium/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/arc-study/" title="分类于 BIM/CIM/智慧城市">BIM/CIM/智慧城市</a>
<i class="ic i-angle-right"></i>
<a href="/categories/arc-study/%E6%99%BA%E6%85%A7%E5%9F%8E%E5%B8%82/" title="分类于 智慧城市">智慧城市</a>
</div>

    <span><a href="/2022/02/02/arc-study/%E6%99%BA%E6%85%A7%E5%9F%8E%E5%B8%82/2.%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF-%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/" title="2.关键技术-大数据技术">2.关键技术-大数据技术</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/map-study/" title="分类于 GIS开发">GIS开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/map-study/gis%E5%9F%BA%E7%A1%80/" title="分类于 gis基础">gis基础</a>
</div>

    <span><a href="/2022/02/19/map-study/gis-theory/4.gis%E5%9F%BA%E7%A1%80-%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90/" title="4.GIS中的空间分析">4.GIS中的空间分析</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/3D-study/" title="分类于 三维开发">三维开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/" title="分类于 Cesium.js">Cesium.js</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/%E5%85%A5%E9%97%A8/" title="分类于 入门">入门</a>
</div>

    <span><a href="/2022/05/14/3D-study/Cesium/%E5%9F%BA%E7%A1%80/10.cesium%E4%B8%AD%E7%9A%84scene/" title="10.cesium基础-cesium中的scene">10.cesium基础-cesium中的scene</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/arc-study/" title="分类于 BIM/CIM/智慧城市">BIM/CIM/智慧城市</a>
<i class="ic i-angle-right"></i>
<a href="/categories/arc-study/revit-dynamo/" title="分类于 Revit与Dynamo">Revit与Dynamo</a>
<i class="ic i-angle-right"></i>
<a href="/categories/arc-study/revit-dynamo/Revit/" title="分类于 Revit">Revit</a>
</div>

    <span><a href="/2022/12/21/arc-study/revit-dynamo/revit%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85/" title="Revit下载与安装">Revit下载与安装</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/arc-study/" title="分类于 BIM/CIM/智慧城市">BIM/CIM/智慧城市</a>
<i class="ic i-angle-right"></i>
<a href="/categories/arc-study/rhino-GH/" title="分类于 Rhino与grasshopper">Rhino与grasshopper</a>
<i class="ic i-angle-right"></i>
<a href="/categories/arc-study/rhino-GH/grasshopper%E5%85%A5%E9%97%A8/" title="分类于 grasshopper入门">grasshopper入门</a>
</div>

    <span><a href="/2022/12/21/arc-study/rhino-GH/GH/4.%E5%88%9D%E8%AF%86Grasshopper%E7%95%8C%E9%9D%A2/" title="4.初识Grasshopper界面">4.初识Grasshopper界面</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/3D-study/" title="分类于 三维开发">三维开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/" title="分类于 Cesium.js">Cesium.js</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="分类于 基础知识">基础知识</a>
</div>

    <span><a href="/2022/04/16/3D-study/Cesium/%E5%85%A5%E9%97%A8/3.cesium%E5%85%A5%E9%97%A8-cesium%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" title="3.cesium入门-cesium是什么？">3.cesium入门-cesium是什么？</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/3D-study/" title="分类于 三维开发">三维开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/" title="分类于 Cesium.js">Cesium.js</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/%E5%85%A5%E9%97%A8/" title="分类于 入门">入门</a>
</div>

    <span><a href="/2022/05/12/3D-study/Cesium/%E5%9F%BA%E7%A1%80/8.cesium%E8%87%AA%E5%AE%9A%E4%B9%89popup/" title="8.cesium基础-自定义popup">8.cesium基础-自定义popup</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/map-study/" title="分类于 GIS开发">GIS开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/map-study/leaflet-js/" title="分类于 leaflet.js">leaflet.js</a>
</div>

    <span><a href="/2022/12/21/map-study/leaflet-js/0.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" title="0.Leaflet 快速入门指南">0.Leaflet 快速入门指南</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/gs-books/" title="分类于 “阅”过大海">“阅”过大海</a>
<i class="ic i-angle-right"></i>
<a href="/categories/gs-books/my-history/" title="分类于 历史传记">历史传记</a>
</div>

    <span><a href="/2022/12/21/gs-books/my-history/%E9%82%93%E5%B0%8F%E5%B9%B3%E6%97%B6%E4%BB%A3/" title="邓小平时代">邓小平时代</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/3D-study/" title="分类于 三维开发">三维开发</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/" title="分类于 Cesium.js">Cesium.js</a>
<i class="ic i-angle-right"></i>
<a href="/categories/3D-study/Cesium-js/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="分类于 基础知识">基础知识</a>
</div>

    <span><a href="/2022/04/11/3D-study/Cesium/%E5%85%A5%E9%97%A8/2.JavaScript%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" title="2.cesium入门-编程语言">2.cesium入门-编程语言</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2022 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">小矮人gason @ Sang`s Homepage</span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="站点总字数">282k 字</span>

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="站点阅读时长">4:16</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> the Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2022/04/17/3D-study/Cesium/入门/4.cesium入门-认识cesium/',
    favicon: {
      show: "点开格桑的网页了....",
      hide: "离开格桑的网页了...."
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,
    copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
